<!doctype html><html lang=zh-CN data-theme=dark><head><meta charset=UTF-8><meta name=viewport content="width=device-width"><meta name=theme-color content="#222" media="(prefers-color-scheme: dark)"><meta name=generator content="Hugo 0.131.0"><link rel="shortcut icon" type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon_16x16_next.png><link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon_32_32_next.png><link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/apple_touch_icon_next.png><meta itemprop=name content="Linux"><meta itemprop=description content><meta name=description content><meta itemprop=datePublished zgotmplz><meta itemprop=dateModified zgotmplz><meta itemprop=image content="/imgs/hugo_next_avatar.png"><meta itemprop=keywords content="Linux"><meta property="og:type" content="article"><meta property="og:title" content="Linux"><meta property="og:description" content><meta property="og:image" content="/imgs/hugo_next_avatar.png"><meta property="og:image:width" content="312"><meta property="og:image:height" content="312"><meta property="og:image:type" content="image/jpeg/png/svg/jpg"><meta property="og:url" content="/post/linux-hqnng.html"><meta property="og:site_name" content="Sakura Notes"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="arukasxy"><meta property="article:published_time" content="2024-07-11 20:32:54 +0800 +0800"><meta property="article:modified_time" content="2024-08-08 13:29:30 +0800 +0800"><link type=text/css rel=stylesheet href=/3rd/font-awesome/6.6.0/css/all.min.css><link type=text/css rel=stylesheet href=/3rd/animate.css/4.1.1/animate.min.css><link type=text/css rel=stylesheet href=/3rd/viewerjs/1.11.6/viewer.min.css><link rel=stylesheet href=/css/main.min.ab1c3ae9fc9258afee98d91f39e4c6c4fe3d7d90222efbbe570558fcadfc2105.css><script type=text/javascript>(function(){localDB={set:function(e,t,n){if(n===0)return;const s=new Date,o=n*864e5,i={value:t,expiry:s.getTime()+o};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return void 0;const n=JSON.parse(t),s=new Date;return s.getTime()>n.expiry?(localStorage.removeItem(e),void 0):n.value}},theme={active:function(){const e=localDB.get("theme");if(e==null)return;theme.toggle(e),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){theme.toggle(e.matches?"dark":"light")})},toggle:function(e){document.documentElement.setAttribute("data-theme",e),localDB.set("theme",e,2);const t=document.querySelector("iframe.giscus-frame");if(t){const n={setConfig:{theme:e}};t.contentWindow.postMessage({giscus:n},"https://giscus.app")}}},theme.active()})(window)</script><script class=next-config data-name=page type=application/json>{"comments":true,"isHome":false,"isPage":true,"path":"linux-hqnng.html","permalink":"/post/linux-hqnng.html","title":"Linux","waline":{"js":[{"alias":"@waline/client","alias_name":"waline","file":"dist/pageview.js","name":"pageview","version":"2.15.8"},{"alias":"@waline/client","alias_name":"waline","file":"dist/comment.js","name":"comment","version":"2.15.8"}]}}</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",e.async=!1,e.defer=!0,document.head.appendChild(e),e.onload=function(){NexT.utils.fmtBusuanzi()}})</script><title>Linux - Sakura Notes</title><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><h1 class=site-title>Sakura Notes</h1><i class=logo-line></i></a><p class=site-subtitle itemprop=description>计算机,C++,数据库</p></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-home hvr-icon"></i>首页</a></li><li class="menu-item menu-item-archives"><a href=/archives/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>归档
<span class=badge>21</span></a></li><li class="menu-item menu-item-search"><a role=button class="popup-trigger hvr-icon-pulse"><i class="fa fa-search fa-fw hvr-icon"></i>搜索</a></li></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon><i class="fa fa-search"></i></span><div class=search-input-container><input autocomplete=off autocapitalize=off maxlength=80 placeholder=搜索... spellcheck=false type=search class=search-input></div><span class=popup-btn-close role=button><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录</li><li class=sidebar-nav-overview>站点概览</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><nav id=TableOfContents><ul><li><a href=#查看进程pstop>查看进程ps/top</a></li><li><a href=#进程信息解读>进程信息解读</a></li><li><a href=#结束进程kill>结束进程kill</a></li><li><a href=#进程优先级调度策略>进程优先级（+调度策略）</a></li><li><a href=#消息队列>消息队列</a></li></ul><ul><li><a href=#共享内存>共享内存</a></li></ul><ul><li><a href=#创建用户>创建用户</a></li><li><a href=#设置密码>设置密码</a></li><li><a href=#切换用户>切换用户</a></li><li><a href=#文件所有者>文件所有者</a></li><li><a href=#文件权限>文件权限</a></li><li><a href=#免密登录>免密登录</a></li></ul><ul><li><a href=#修改位置及方式>修改位置及方式</a></li><li><a href=#常用环境变量>常用环境变量</a></li></ul><ul><li><a href=#端口开放信息>端口开放信息</a></li></ul><ul><li><a href=#挂载>挂载</a></li><li><a href=#inode>inode</a></li></ul><ul><li><a href=#创建>创建</a></li><li><a href=#搜索>搜索</a><ul><li><a href=#搜索文件find>搜索文件find</a></li><li><a href=#搜索文本grep>搜索文本grep</a></li></ul></li><li><a href=#查看>查看</a><ul><li><a href=#查看目录ls>查看目录ls</a></li><li><a href=#查看文件>查看文件</a></li></ul></li><li><a href=#删除>删除</a></li><li><a href=#链接>链接</a></li><li><a href=#压缩>压缩</a></li><li><a href=#移动重命名>移动（重命名）</a></li><li><a href=#对比>对比</a></li><li><a href=#复制>复制</a></li><li><a href=#分割>分割</a></li><li><a href=#统计>统计</a></li><li><a href=#排序去重>排序（去重）</a></li></ul><ul><li><a href=#ubuntuapt安装>ubuntu（apt安装）</a><ul><li><a href=#设置镜像源>设置镜像源</a></li></ul></li><li><a href=#centosyum安装>centos（yum安装）</a><ul><li><a href=#设置镜像源-1>设置镜像源</a></li></ul></li><li><a href=#下载文件wgetcurl>下载文件wget/curl</a></li><li><a href=#软件下载位置>软件下载位置</a></li></ul><ul><li><a href=#ssh远程连接>ssh远程连接</a></li><li><a href=#后台运行>后台运行</a></li></ul></nav></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=arukasxy src=/imgs/img-lazy-loading.gif data-src=/imgs/hugo_next_avatar.png><p class=site-author-name itemprop=name>arukasxy</p><div class=site-description itemprop=description></div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/><span class=site-state-item-count>21</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>8</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>22</span>
<span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-social site-overview-item animated"><span class=links-of-social-item><a href=https://github.com/arukasxy title="Github → https://github.com/arukasxy" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-github fa-fw hvr-icon"></i>
Github</a></span></div><div class="cc-license animated" itemprop=license><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh class=cc-opacity rel=noopener target=_blank title=共享知识><img src=/imgs/img-lazy-loading.gif data-src=/imgs/cc/big/by_nc_sa.svg alt=共享知识></a></div></div></div></div><div id=siteinfo-card-widget class=sidebar-card-widget><div class=item-headline><i class="fas fa-chart-line"></i>
<span>网站资讯</span></div><div class=siteinfo><div class=siteinfo-item><div class=item-name><i class="fa-solid fa-calendar-check"></i>已运行：</div><div class=item-count id=runTimes data-publishdate=2024-08-08T00:00:00+08:00></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-user"></i>总访客数：</div><div class=item-count id=busuanzi_value_site_uv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-eye"></i>页面浏览：</div><div class=item-count id=busuanzi_value_site_pv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-font"></i>总字数：</div><div class=item-count id=wordsCount data-count=49433></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-mug-hot"></i>阅读约：</div><div class=item-count id=readTimes data-times=109></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-clock-rotate-left"></i>最后更新于：</div><div class=item-count id=last-push-date data-lastpushdate=2024-07-11T20:32:54+08:00></div></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=tool-buttons><div id=goto-comments class="button goto-comments" title=直达评论><i class="fas fa-comments"></i></div><div id=toggle-theme class=button title=深浅模式切换><i class="fas fa-adjust"></i></div><div class=back-to-top role=button title=返回顶部><i class="fa fa-arrow-up"></i>
<span>0%</span></div></div><div class=reading-progress-bar></div><a role=button class="book-mark-link book-mark-link-fixed"></a><a href=https://github.com/hugo-next rel="noopener external nofollow noreferrer" target=_blank title="Follow me on GitHub" class="exturl github-corner"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=/post/linux-hqnng.html><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/hugo_next_avatar.png"><meta itemprop=name content="arukasxy"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="arukasxy"><meta itemprop=description content></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="Linux"><meta itemprop=description content="Linux 进程 查看进程ps/top ps 显示进程某个时间点的状态（PID、终端、使用的CPU时间） 选项 作用 -aux -ef 显示所有进程 -e 显示环境变量 &ndash;forest 进程树 -eT 显示线"></span><header class=post-header><h1 class=post-title itemprop="name headline">Linux
<a href=https://github.com/user-name/repo-name/tree/branch-name/subdirectory-name/post/linux-hqnng.md rel="noopener external nofollow noreferrer" target=_blank class="exturl post-edit-link" title=编辑><i class="fa fa-pen-nib"></i></a></h1><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2024-07-11 20:32:54 +0800 +0800" itemprop="dateCreated datePublished" datetime="2024-07-11 20:32:54 +0800 +0800">2024-07-11
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar-check"></i>
</span><span class=post-meta-item-text title=更新于>更新于：
</span><time title=修改时间：2024-08-08T13:29:30+08:00 itemprop=dateModified datetime=2024-08-08T13:29:30+08:00>2024-08-08</time>
</span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/%E5%B7%A5%E5%85%B7 itemprop=url rel=index><span itemprop=name>工具</span></a></span></span></div><div class=post-meta-items><span class=post-meta-item title=字数><span class=post-meta-item-icon><i class="fas fa-solid fa-file-word"></i>
</span><span class=post-meta-item-text>字数：</span>
<span>4710</span>
</span><span class=post-meta-item title=阅读><span class=post-meta-item-icon><i class="fas fa-solid fa-clock"></i>
</span><span class=post-meta-item-text>阅读：&ap;</span>
<span>10分钟</span>
</span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=busuanzi_value_page_pv data-path=/post/linux-hqnng.html><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class="post-body autonumber" itemprop=articleBody><h1 id=linux>Linux
<a class=header-anchor href=#linux></a></h1><h1 id=进程>进程
<a class=header-anchor href=#%e8%bf%9b%e7%a8%8b></a></h1><h2 id=查看进程pstop>查看进程ps/top
<a class=header-anchor href=#%e6%9f%a5%e7%9c%8b%e8%bf%9b%e7%a8%8bpstop></a></h2><ol><li><p>ps 显示进程某个时间点的状态（PID、终端、使用的CPU时间）</p><table><thead><tr><th style=text-align:center>选项</th><th>作用</th></tr></thead><tbody><tr><td style=text-align:center>-aux<br>-ef</td><td>显示所有进程</td></tr><tr><td style=text-align:center>-e</td><td>显示环境变量</td></tr><tr><td style=text-align:center>&ndash;forest</td><td>进程树</td></tr><tr><td style=text-align:center>-eT</td><td>显示<strong>线程</strong>信息</td></tr><tr><td style=text-align:center>ps -ef | grep defunct<br>ps aux | grep Z<br></td><td>查看僵尸进程</td></tr></tbody></table></li><li><p>top 实时显示进程信息</p><table><thead><tr><th>选项</th><th>作用</th></tr></thead><tbody><tr><td>-b</td><td>使用批处理模式输出。<br>和-n一起使用，把 top 命令重定向到文件中</td></tr><tr><td>-H</td><td>查看线程</td></tr><tr><td>-n</td><td>设定显示的总次数，完成后将会自动退出</td></tr><tr><td>-p PID</td><td>仅查看指定 PID 的进程</td></tr><tr><td>-d 秒数</td><td>指定 top 命令每隔几秒更新（默认3s）</td></tr><tr><td></td><td></td></tr></tbody></table><blockquote><p>top -b -H -n 1 -p PID |grep PPID |awk &lsquo;{print $9}&rsquo; &#187; filename</p><p>筛选PPID，提取每行的第9列（CPU使用率），重定位到文件中</p></blockquote></li></ol><h2 id=进程信息解读>进程信息解读
<a class=header-anchor href=#%e8%bf%9b%e7%a8%8b%e4%bf%a1%e6%81%af%e8%a7%a3%e8%af%bb></a></h2><table><thead><tr><th>指标</th><th>含义</th></tr></thead><tbody><tr><td>users</td><td>登录用户数</td></tr><tr><td>load average</td><td>系统平均负载（最近1min、5min、15min，值越大说明系统负载越高）</td></tr><tr><td>running</td><td>运行状态进程数</td></tr><tr><td>sleeping</td><td>休眠状态进程数</td></tr><tr><td>zombie</td><td>僵尸进程数</td></tr><tr><td>PR</td><td>进程优先级</td></tr><tr><td>NI</td><td>进程的谦让度值</td></tr><tr><td>VIRT/VSZ</td><td>占用虚拟内存量</td></tr><tr><td>RES/RSS</td><td>占用物理内存量</td></tr><tr><td>SHR</td><td>共享的内存总量</td></tr><tr><td>S/STAT</td><td>进程状态</td></tr><tr><td>TIME</td><td>进程占用的CPU时间</td></tr></tbody></table><h2 id=结束进程kill>结束进程kill
<a class=header-anchor href=#%e7%bb%93%e6%9d%9f%e8%bf%9b%e7%a8%8bkill></a></h2><p>常见信号：信号</p><table><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td>killall http*</td><td>kill指定进程名</td></tr><tr><td>kill -15 PID</td><td>kill默认，发送SIGTERM 信号</td></tr><tr><td>kill -2 PID<br>kill -s SIGINT PID</td><td>使用CTRL + C</td></tr><tr><td>kill -s SIGCHLD PID</td><td>kill僵尸进程</td></tr></tbody></table><h2 id=进程优先级调度策略>进程优先级（+调度策略）
<a class=header-anchor href=#%e8%bf%9b%e7%a8%8b%e4%bc%98%e5%85%88%e7%ba%a7%e8%b0%83%e5%ba%a6%e7%ad%96%e7%95%a5></a></h2><ul><li><p>普通进程：renice</p><p>-n 5 指定nice值为5</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>sudo renice -n <span style=color:#ae81ff>5</span> PID
</span></span></code></pre></div></li><li><p>实时进程：chrt</p><p>-p 指定PID，-f 修改调度策略为SCHED_FIFO，修改优先级为10</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>chrt -p -f <span style=color:#ae81ff>10</span> PID
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>chrt -p PID
</span></span><span style=display:flex><span><span style=color:#75715e># 查看进程优先级和调度策略</span>
</span></span></code></pre></div></li></ul><h2 id=消息队列>消息队列
<a class=header-anchor href=#%e6%b6%88%e6%81%af%e9%98%9f%e5%88%97></a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># 查看消息队列, perms权限, messages消息数量</span>
</span></span><span style=display:flex><span>ipcs -q
</span></span></code></pre></div><h1 id=内存>内存
<a class=header-anchor href=#%e5%86%85%e5%ad%98></a></h1><p>显示内存使用情况（物理内存、交换内存、内核缓冲区内存）</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>free -h
</span></span></code></pre></div><h2 id=共享内存>共享内存
<a class=header-anchor href=#%e5%85%b1%e4%ba%ab%e5%86%85%e5%ad%98></a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>ipcs -m
</span></span><span style=display:flex><span><span style=color:#75715e># 查看共享内存</span>
</span></span><span style=display:flex><span>ipcrm -m <span style=color:#f92672>[</span>shmid<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 删除共享内存</span>
</span></span></code></pre></div><h1 id=用户与权限>用户与权限
<a class=header-anchor href=#%e7%94%a8%e6%88%b7%e4%b8%8e%e6%9d%83%e9%99%90></a></h1><h2 id=创建用户>创建用户
<a class=header-anchor href=#%e5%88%9b%e5%bb%ba%e7%94%a8%e6%88%b7></a></h2><p>useradd会在/home目录下创建同名文件夹</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>useradd -m 用户名
</span></span><span style=display:flex><span><span style=color:#75715e># -s /bin/bash 指定终端</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -u 指定用户号</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -m 指定用户的登入目录</span>
</span></span></code></pre></div><h2 id=设置密码>设置密码
<a class=header-anchor href=#%e8%ae%be%e7%bd%ae%e5%af%86%e7%a0%81></a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>passwd 用户名
</span></span></code></pre></div><h2 id=切换用户>切换用户
<a class=header-anchor href=#%e5%88%87%e6%8d%a2%e7%94%a8%e6%88%b7></a></h2><p>需要先为用户设置密码</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>su root
</span></span><span style=display:flex><span><span style=color:#75715e># 切换用户，默认为root</span>
</span></span><span style=display:flex><span>su - root
</span></span><span style=display:flex><span><span style=color:#75715e># 切换用户，并切换工作目录、环境变量</span>
</span></span><span style=display:flex><span>exit
</span></span><span style=display:flex><span><span style=color:#75715e># 返回root</span>
</span></span></code></pre></div><blockquote><ol><li>su: Authentication failure</li></ol><p>使用sudo passwd root，设置root密码后即可切换root</p></blockquote><h2 id=文件所有者>文件所有者
<a class=header-anchor href=#%e6%96%87%e4%bb%b6%e6%89%80%e6%9c%89%e8%80%85></a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>chown zhaosen:zhaosen /data/zhaosen -R
</span></span><span style=display:flex><span><span style=color:#75715e># user:[group] 设置文件所有者和文件关联组</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -c 显示更改部分的信息</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -f 忽略错误信息</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -h 修复符号链接</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -v 显示详细的处理信息</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -R 递归执行</span>
</span></span></code></pre></div><h2 id=文件权限>文件权限
<a class=header-anchor href=#%e6%96%87%e4%bb%b6%e6%9d%83%e9%99%90></a></h2><table><thead><tr><th>模式</th><th>含义</th></tr></thead><tbody><tr><td>d</td><td>目录</td></tr><tr><td>r = 4</td><td>read 读权限</td></tr><tr><td>w = 2</td><td>write 写权限</td></tr><tr><td>x = 1</td><td>execute 执行权限</td></tr><tr><td>u</td><td>拥有者</td></tr><tr><td>g</td><td>同组用户</td></tr><tr><td>o</td><td>其他用户</td></tr><tr><td>a</td><td>所有用户</td></tr></tbody></table><ol><li><p>查看文件权限</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>ls -l filename
</span></span><span style=display:flex><span>ll filename
</span></span></code></pre></div></li><li><p>修改文件权限</p><p>-R：递归修改</p><p>-v：显示修改的详细信息</p><p>-c：仅显示修改的文件</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># 修改文件权限</span>
</span></span><span style=display:flex><span>chmod -R <span style=color:#ae81ff>777</span> /opt
</span></span><span style=display:flex><span>// <span style=color:#ae81ff>777</span> 分别表示文件拥有者/Group/O+ther
</span></span><span style=display:flex><span><span style=color:#75715e># 添加权限</span>
</span></span><span style=display:flex><span>chmod +x /opt
</span></span><span style=display:flex><span><span style=color:#75715e># 移除权限</span>
</span></span><span style=display:flex><span>chmod a-x filename
</span></span></code></pre></div></li></ol><h2 id=免密登录>免密登录
<a class=header-anchor href=#%e5%85%8d%e5%af%86%e7%99%bb%e5%bd%95></a></h2><ol><li><p>检测是否安装ssh</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>ssh
</span></span></code></pre></div></li><li><p>客户端生成密钥id_rsa.pub（公钥）</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>cd /root/.ssh
</span></span><span style=display:flex><span><span style=color:#75715e># root用户在/root下创建.ssh</span>
</span></span><span style=display:flex><span>cd ~/.ssh
</span></span><span style=display:flex><span><span style=color:#75715e># 普通用户在~下创建.ssh</span>
</span></span><span style=display:flex><span>ssh-keygen
</span></span><span style=display:flex><span>ssh-keygen -t rsa -b <span style=color:#ae81ff>4096</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 限制密钥长度</span>
</span></span></code></pre></div></li><li><p>复制文件到服务器端</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>ssh-copy-id -i /root/.ssh/id_rsa.pub root@192.168.1.1
</span></span><span style=display:flex><span><span style=color:#75715e># 也可以手动下载 id_rsa.pub 到服务器的对应目录中</span>
</span></span><span style=display:flex><span>cd .ssh
</span></span><span style=display:flex><span><span style=color:#75715e># 如果没有authorized_keys文件, touch authorized_keys</span>
</span></span><span style=display:flex><span>chmod <span style=color:#ae81ff>600</span> authorized_keys
</span></span><span style=display:flex><span>chmod <span style=color:#ae81ff>700</span> .ssh
</span></span><span style=display:flex><span>cat id_rsa.pub &gt;&gt; authorized_keys
</span></span></code></pre></div></li><li><p>确定密钥登录功能开启</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>sudo vim /etc/ssh/sshd_config
</span></span><span style=display:flex><span><span style=color:#75715e># RSAAuthentication yes</span>
</span></span><span style=display:flex><span><span style=color:#75715e># PubkeyAuthentication yes</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 禁用密码（可选）PasswordAuthentication no</span>
</span></span></code></pre></div></li><li><p>重启sshd</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>sshd restart
</span></span><span style=display:flex><span><span style=color:#75715e># 或使用 sudo service ssh restart</span>
</span></span></code></pre></div></li><li><p>检查本地私钥</p><p>Windows端私钥应位于 C:\Users\User Name.ssh\</p><p>也可以在连接时指定私钥地址</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>ssh -i id_rsa remote-username@remote-ip
</span></span></code></pre></div><p>VScode中远程连接需指定私钥地址</p></li></ol><h1 id=环境变量>环境变量
<a class=header-anchor href=#%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f></a></h1><table><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td>export VARIABLE_NAME=value</td><td>设置<strong>临时</strong>环境变量</td></tr><tr><td>echo $HOME<br>printenv HOME<br></td><td>查看环境变量</td></tr><tr><td>env</td><td>查看<strong>所有</strong>环境变量</td></tr><tr><td>unset PYTHONHOME</td><td><strong>取消</strong>环境变量</td></tr></tbody></table><h2 id=修改位置及方式>修改位置及方式
<a class=header-anchor href=#%e4%bf%ae%e6%94%b9%e4%bd%8d%e7%bd%ae%e5%8f%8a%e6%96%b9%e5%bc%8f></a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#66d9ef>export</span> PATH<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;$PATH:/opt/au1200_rm/build_tools/bin&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 推荐
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>source <span style=color:#f92672>~/</span>.bashrc
</span></span></code></pre></div><table><thead><tr><th>修改文件</th><th>场景</th><th>用户</th></tr></thead><tbody><tr><td>/etc/profile</td><td>登录</td><td>所有</td></tr><tr><td>/etc/profile.d</td><td>登录时执行的sh脚本</td><td></td></tr><tr><td>/etc/bashrc</td><td>shell启动</td><td></td></tr><tr><td>$HOME/.bashrc</td><td>shell启动</td><td>单用户</td></tr><tr><td>$HOME/.bash_profile</td><td>登录</td><td></td></tr><tr><td>~/.bash_logout</td><td>shell退出</td><td></td></tr></tbody></table><h2 id=常用环境变量>常用环境变量
<a class=header-anchor href=#%e5%b8%b8%e7%94%a8%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f></a></h2><table><thead><tr><th>环境变量</th><th>作用</th><th></th></tr></thead><tbody><tr><td>PATH</td><td>可执行文件搜索路径</td><td></td></tr><tr><td>LIBRARY_PATH</td><td>编译时动态库路径</td><td>建议都设置一遍</td></tr><tr><td>LD_LIBRARY_PATH</td><td>加载时动态库路径</td><td></td></tr></tbody></table><h1 id=网络>网络
<a class=header-anchor href=#%e7%bd%91%e7%bb%9c></a></h1><h2 id=端口开放信息>端口开放信息
<a class=header-anchor href=#%e7%ab%af%e5%8f%a3%e5%bc%80%e6%94%be%e4%bf%a1%e6%81%af></a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># 查看占用某个端口的进程</span>
</span></span><span style=display:flex><span>lsof -i :8080
</span></span><span style=display:flex><span>	-nP 显示 ip 地址和端口号<span style=color:#f92672>(</span>默认显示别名<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 列出开放端口及其服务</span>
</span></span><span style=display:flex><span>netstat -atnp | grep <span style=color:#ae81ff>8080</span>
</span></span></code></pre></div><table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-a</td><td>显示所有sockey, 默认不显示 LISTEN 相关</td></tr><tr><td>-t</td><td>仅显示 tcp 相关</td></tr><tr><td>-u</td><td>仅显示 udp 相关</td></tr><tr><td>-n</td><td>直接使用IP地址，而不通过域名服务器</td></tr><tr><td>-l</td><td>仅列出Listen (监听) 状态的socket</td></tr><tr><td>-p</td><td>显示使用socket的程序</td></tr><tr><td>-r</td><td>显示路由表</td></tr><tr><td>-e</td><td>显示扩展信息，如uid等</td></tr><tr><td>-s</td><td>按协议进行信息统计</td></tr><tr><td>-c</td><td>每隔一个固定时间，执行该 netstat 命令</td></tr></tbody></table><h1 id=磁盘>磁盘
<a class=header-anchor href=#%e7%a3%81%e7%9b%98></a></h1><h2 id=挂载>挂载
<a class=header-anchor href=#%e6%8c%82%e8%bd%bd></a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># 查看挂载设备</span>
</span></span><span style=display:flex><span>df
</span></span><span style=display:flex><span>mount
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 挂载设备</span>
</span></span><span style=display:flex><span>sudo mount /dev/sdb1 /mnt/mydrive
</span></span><span style=display:flex><span>mount /dev/nvme0n1p1 /mnt/nvme0n1p1
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 卸载设备</span>
</span></span><span style=display:flex><span>umount <span style=color:#f92672>[</span>directory | device <span style=color:#f92672>]</span>
</span></span></code></pre></div><table><thead><tr><th>mount选项</th><th>含义</th></tr></thead><tbody><tr><td>-t</td><td>文件系统类型，如ext4</td></tr><tr><td>-o</td><td>设置读写权限、用户访问，如ro只读，users所有用户</td></tr></tbody></table><h2 id=inode>inode
<a class=header-anchor href=#inode></a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># 查看磁盘inode总数和已使用的数量</span>
</span></span><span style=display:flex><span>df -i
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看每个inode大小</span>
</span></span><span style=display:flex><span>sudo dumpe2fs -h /dev/hda | grep <span style=color:#e6db74>&#34;Inode size&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看文件的inode号</span>
</span></span><span style=display:flex><span>ls -i example.txt
</span></span><span style=display:flex><span>ls -i /etc
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看文件的inode信息（元信息）</span>
</span></span><span style=display:flex><span>stat file
</span></span></code></pre></div><h1 id=文件和目录>文件和目录
<a class=header-anchor href=#%e6%96%87%e4%bb%b6%e5%92%8c%e7%9b%ae%e5%bd%95></a></h1><h2 id=创建>创建
<a class=header-anchor href=#%e5%88%9b%e5%bb%ba></a></h2><ol><li><p><span data-type=text>创建空文件</span></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>touch fileName
</span></span></code></pre></div></li><li><p>创建大文件(4MB)</p><p>if 输入文件,of 输出文件,bs 以字节为单位的块大小,count 被复制的块数</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>dd <span style=color:#66d9ef>if</span><span style=color:#f92672>=</span>/dev/zero of<span style=color:#f92672>=</span>test.data bs<span style=color:#f92672>=</span>2M count<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>
</span></span></code></pre></div></li><li><p>创建目录</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>mkdir New_Dir
</span></span><span style=display:flex><span>mkdir -p New_Dir/Sub_Dir/Under_Dir
</span></span><span style=display:flex><span><span style=color:#75715e># 递归创建子目录</span>
</span></span></code></pre></div></li><li><p>创建临时文件/目录</p><p>/tmp中文件会被系统自动清理</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>mktemp 临时文件
</span></span><span style=display:flex><span>mktemp -d 临时目录
</span></span><span style=display:flex><span>mktemp -u 仅生成文件名
</span></span><span style=display:flex><span>mktemp test.XXX 根据模板（至少三个X）创建临时文件
</span></span></code></pre></div></li></ol><h2 id=搜索>搜索
<a class=header-anchor href=#%e6%90%9c%e7%b4%a2></a></h2><h3 id=搜索文件find>搜索文件find
<a class=header-anchor href=#%e6%90%9c%e7%b4%a2%e6%96%87%e4%bb%b6find></a></h3><p>如果传入绝对路径，find也返回绝对路径。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># 列出当前目录及子目录下的所有文件和文件夹</span>
</span></span><span style=display:flex><span>find base_path
</span></span><span style=display:flex><span><span style=color:#75715e># 搜索文件名中含有conf的文件</span>
</span></span><span style=display:flex><span>find . -name <span style=color:#e6db74>&#39;*conf*&#39;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 搜索含有关键词的文件</span>
</span></span><span style=display:flex><span>find .|xargs grep -ri <span style=color:#e6db74>&#34;IBM&#34;</span> -l|sort|uniq
</span></span><span style=display:flex><span><span style=color:#75715e># 最近7天内被访问过的所有文件</span>
</span></span><span style=display:flex><span>find . -type f -atime -7   
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 搜索etc目录下以sh开头的文件,-i忽略大小写</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 仅在/var/lib/slocate 数据库查找，速度更快，但需要系统维护数据库</span>
</span></span><span style=display:flex><span>updatedb  // 手动更新数据库
</span></span><span style=display:flex><span>locate -i /etc/sh
</span></span></code></pre></div><table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-type</td><td>类型，f 普通文件，d目录，l符号链接，c字符设置，b设备，s套接字，f FIFO</td></tr><tr><td>-name</td><td>文件名</td></tr><tr><td>-iname</td><td>忽略大小写的文件名</td></tr><tr><td>-maxdepth</td><td>最大搜索深度，1为在当前目录</td></tr><tr><td>-mindepth</td><td>开始搜索深度，1为从第二级目录开始搜索</td></tr><tr><td>!</td><td>否定参数</td></tr><tr><td>-atime</td><td>访问时间</td></tr><tr><td>-mtime</td><td>修改时间</td></tr><tr><td>-ctime</td><td>元数据修改时间（权限/所有权等）</td></tr><tr><td>-newer ""</td><td>比参考文件更新</td></tr><tr><td>-size</td><td>文件大小</td></tr><tr><td>-delete</td><td>删除匹配文件</td></tr><tr><td>-perm</td><td>文件权限，如644</td></tr><tr><td>-user</td><td>用户名或UID</td></tr><tr><td>-exec ./cmd.sh {} \;</td><td>执行sh脚本</td></tr></tbody></table><h3 id=搜索文本grep>搜索文本grep
<a class=header-anchor href=#%e6%90%9c%e7%b4%a2%e6%96%87%e6%9c%acgrep></a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># 搜索路径下的文件内容匹配关键词的行</span>
</span></span><span style=display:flex><span>grep -r -i <span style=color:#e6db74>&#39;concurrently&#39;</span> openGaussBase/testcase/
</span></span><span style=display:flex><span>grep -i <span style=color:#e6db74>&#39;concurrently&#39;</span> file
</span></span></code></pre></div><table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>关键词+单引号</td><td>可以包含空格，不会替换变量</td></tr><tr><td>关键词+双引号</td><td>可以包含空格，替换变量</td></tr><tr><td>-r</td><td>递归</td></tr><tr><td>-i</td><td>不区分大小写</td></tr><tr><td>-w</td><td>匹配整个单词</td></tr><tr><td>-n</td><td>显示对应行号</td></tr><tr><td>-v</td><td>反向搜索</td></tr><tr><td>-A x</td><td>显示匹配行之后的 x 行内容</td></tr><tr><td>-B x</td><td>显示匹配行之前的 x 行内容</td></tr><tr><td>-C x</td><td>显示匹配行前后的 x 行内容</td></tr></tbody></table><h2 id=查看>查看
<a class=header-anchor href=#%e6%9f%a5%e7%9c%8b></a></h2><h3 id=查看目录ls>查看目录ls
<a class=header-anchor href=#%e6%9f%a5%e7%9c%8b%e7%9b%ae%e5%bd%95ls></a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># 查看当前绝对路径</span>
</span></span><span style=display:flex><span>pwd
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看链接文件</span>
</span></span><span style=display:flex><span>ll 链接
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 树状图显示目录</span>
</span></span><span style=display:flex><span>tree -a
</span></span></code></pre></div><table><thead><tr><th>ls选项</th><th>含义</th></tr></thead><tbody><tr><td>-a</td><td>显示隐藏文件</td></tr><tr><td>-R</td><td>递归</td></tr><tr><td>-l<br>ll</td><td>显示额外信息</td></tr><tr><td>-h</td><td>更友好</td></tr><tr><td>-F</td><td>区分目录、文件</td></tr><tr><td>-d</td><td>只列出目录</td></tr><tr><td>-i</td><td>文件的inode信息</td></tr></tbody></table><h3 id=查看文件>查看文件
<a class=header-anchor href=#%e6%9f%a5%e7%9c%8b%e6%96%87%e4%bb%b6></a></h3><ul><li><p>统计文件中出现次数最多的前10个单词<sup>（每行一个单词）</sup></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># 对单词进行排序 -&gt; 去重,并在每行行首加上本行在文件中出现的次数</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -&gt; 按照第一个字段（出现次数），数值排序，且为逆序 -&gt; 取前10行数据</span>
</span></span><span style=display:flex><span>cat words.txt | sort | uniq -c | sort -k1,1nr | head -10
</span></span></code></pre></div></li><li><p><span data-type=text>查看文件中重复的行</span></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>sort file | uniq -d
</span></span></code></pre></div></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># 查看开头10行,-f 实时文件（被其他进程使用）</span>
</span></span><span style=display:flex><span>head -n <span style=color:#ae81ff>10</span> -f log_file
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看最后10行,-f 实时文件（被其他进程使用）</span>
</span></span><span style=display:flex><span>tail -n <span style=color:#ae81ff>10</span> -f log_file
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 每次显示一页文本，空格输出下一页，回车显示下一行</span>
</span></span><span style=display:flex><span>more /etc/bash.bashrc
</span></span><span style=display:flex><span>less /etc/bash.bashrc
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看文件类型,-i 查看文件编码方式</span>
</span></span><span style=display:flex><span>file my_file -i
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看文件信息</span>
</span></span><span style=display:flex><span>stat file
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看文件</span>
</span></span><span style=display:flex><span>cat file
</span></span><span style=display:flex><span>	-n 添加行号
</span></span></code></pre></div><table><thead><tr><th>cat选项</th><th>含义</th></tr></thead><tbody><tr><td>-s</td><td>删除连续的空白行</td></tr><tr><td>-n</td><td>增加行号</td></tr><tr><td>-b</td><td>只为非空行加行号</td></tr><tr><td>-T</td><td>将制表符标记为^，可用于排除python语言中的缩进错误</td></tr></tbody></table><h2 id=删除>删除
<a class=header-anchor href=#%e5%88%a0%e9%99%a4></a></h2><ol><li><p>删除文件或目录</p><p>-i 需要确认, -f 强制, -r/R 递归</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>rm -ri tmp
</span></span><span style=display:flex><span>find . -type f -name “*.txt” -print0 | xargs -0 rm -f
</span></span><span style=display:flex><span><span style=color:#75715e># 将所有的txt文件删除</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>uniq -z files.txt | xargs -0 rm
</span></span><span style=display:flex><span><span style=color:#75715e># 删除files.txt里的文件</span>
</span></span></code></pre></div></li><li><p>删除空目录</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>rmdir New_Dir
</span></span></code></pre></div></li><li><p>清空文件内容</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>truncate -s <span style=color:#ae81ff>0</span> my_access.log
</span></span><span style=display:flex><span>cat /dev/null &gt; my_access.log
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;&#34;</span> &gt; my_access.log
</span></span></code></pre></div></li><li><p>删除指定文本(+删除重复行)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>sed -i <span style=color:#e6db74>&#39;/xxx/d&#39;</span> filename
</span></span><span style=display:flex><span><span style=color:#75715e># 删除包含xxx的行</span>
</span></span><span style=display:flex><span>tr -d ‘0-9’
</span></span><span style=display:flex><span><span style=color:#75715e># 删除字符集合（数字）</span>
</span></span><span style=display:flex><span>tr -d -c ‘0-9 <span style=color:#ae81ff>\n</span>’
</span></span><span style=display:flex><span><span style=color:#75715e># 将除数字、空格、换行符之外的字符删除</span>
</span></span><span style=display:flex><span>sort | uniq
</span></span><span style=display:flex><span><span style=color:#75715e># 删除重复的行, -s 跳过前n个字符, -w 用于比较的最大字符数</span>
</span></span></code></pre></div></li></ol><h2 id=链接>链接
<a class=header-anchor href=#%e9%93%be%e6%8e%a5></a></h2><p>特点：</p><ul><li>软/硬链接不占用实际存储空间</li><li>修改任何一个链接都会改变文件内容（文件同步变化）</li><li>不能对目录创建硬链接（软链接可以）</li></ul><ol><li><p>创建</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># 创建新的软链接</span>
</span></span><span style=display:flex><span>ln -s 源文件或目录<span style=color:#f92672>(</span>绝对路径<span style=color:#f92672>)</span> 软链接
</span></span><span style=display:flex><span>cp -s source_file target_file
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 修改软链接</span>
</span></span><span style=display:flex><span>ln -snf 源文件或目录<span style=color:#f92672>(</span>绝对路径<span style=color:#f92672>)</span> 软链接
</span></span><span style=display:flex><span>// -f表示强制执行,-n把符号链接视为一般目录
</span></span><span style=display:flex><span>// 软链接如果不指定，默认为当前路径上创建同名软链接
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 创建新的硬链接</span>
</span></span><span style=display:flex><span>ln code_file hl_code_file
</span></span><span style=display:flex><span>cp -s source_file target_file
</span></span></code></pre></div></li><li><p>删除</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>rm –ri   ./软链接名称  <span style=color:#75715e># 删除软链接</span>
</span></span><span style=display:flex><span>rm -ri    ./软链接名称/   <span style=color:#75715e># 删除软链接及其指向内容</span>
</span></span></code></pre></div></li><li><p>查看</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>ls -l /usr/bin/python
</span></span><span style=display:flex><span><span style=color:#75715e># 查看软链接指向</span>
</span></span></code></pre></div></li></ol><h2 id=压缩>压缩
<a class=header-anchor href=#%e5%8e%8b%e7%bc%a9></a></h2><table><thead><tr><th>后缀</th><th>压缩</th><th>解压缩</th></tr></thead><tbody><tr><td>.zip</td><td>zip mytxt.zip a.txt b.txt c.txt</td><td>unzip -d /home/abc/ mytxt.zip</td></tr><tr><td>.tar</td><td>tar -cvf test.tar test/ test2/</td><td>tar -xvf test.tar</td></tr><tr><td>.gz</td><td>gzip -c 源文件</td><td>gzip -d 压缩包名<br>gunzip 压缩包名<br></td></tr><tr><td>.tar.gz<br>.tgz<br></td><td>tar zcvf FileName.tar.gz DirName</td><td>tar -zxvf FileName.tar.gz</td></tr><tr><td>.lz4</td><td></td><td>lz4 -d</td></tr><tr><td>.tar.gz</td><td>tar -zcvf test.tar.gz file1 dir2</td><td>tar -zxvf test.tar.gz</td></tr><tr><td>.tar.bz2</td><td></td><td>tar -jxvf xx.tar.bz2</td></tr></tbody></table><p><strong>tar</strong>：</p><table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-z</td><td>使用 gzip 来压缩和解压文件</td></tr><tr><td>-v</td><td>&ndash;verbose 列出处理的文件</td></tr><tr><td>-f</td><td>必选，使用档案文件或设备</td></tr><tr><td>-c</td><td>创建新的归档（压缩）</td></tr><tr><td>-x</td><td>解压缩</td></tr></tbody></table><h2 id=移动重命名>移动（重命名）
<a class=header-anchor href=#%e7%a7%bb%e5%8a%a8%e9%87%8d%e5%91%bd%e5%90%8d></a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>mv openGauss-third_party_binarylibs binarylibs
</span></span><span style=display:flex><span><span style=color:#75715e># 重命名,可以使用正则表达式,如*.log</span>
</span></span><span style=display:flex><span>mv file1.txt /path/to/directory/
</span></span><span style=display:flex><span><span style=color:#75715e># 移动文件</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>rename .htm .html *.htm
</span></span><span style=display:flex><span><span style=color:#75715e># 原字符串,目标字符串,文件列表</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>rsync -r source1 source2 destination
</span></span><span style=display:flex><span>rsync -a source destination  <span style=color:#75715e># 形成destination/source</span>
</span></span><span style=display:flex><span>rsync -a source/ destination <span style=color:#75715e># 将source里的内容同步到destination中</span>
</span></span></code></pre></div><p>mv：</p><table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-i</td><td>覆盖前提示</td></tr><tr><td>-f</td><td>强制覆盖</td></tr><tr><td>-u</td><td>只有当源文件比目标文件新，或者目标文件不存在时，才移动文件</td></tr><tr><td>-v</td><td>显示详细过程</td></tr></tbody></table><p>rsync：</p><table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-a</td><td>保留了所有人和所属组、时间戳、软链接、权限，并以递归模式运行</td></tr><tr><td>-z</td><td>同步时压缩数据</td></tr><tr><td>-nv</td><td>模拟执行，将结果输出到终端</td></tr></tbody></table><h2 id=对比>对比
<a class=header-anchor href=#%e5%af%b9%e6%af%94></a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>diff file1 file2
</span></span><span style=display:flex><span><span style=color:#75715e># 对比文件差异</span>
</span></span><span style=display:flex><span>diff -r source destination
</span></span><span style=display:flex><span><span style=color:#75715e># 对比文件夹差异</span>
</span></span></code></pre></div><h2 id=复制>复制
<a class=header-anchor href=#%e5%a4%8d%e5%88%b6></a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>cp source destination -ri
</span></span><span style=display:flex><span>// -i 覆盖文件前提示，-r 递归复制，-p保留文件属性（日期和权限等）,-f 强制覆盖
</span></span><span style=display:flex><span>// -b 覆盖文件前备份原文件，-u source比dest新才执行复制
</span></span></code></pre></div><h2 id=分割>分割
<a class=header-anchor href=#%e5%88%86%e5%89%b2></a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># 以10kB 大小分割文件</span>
</span></span><span style=display:flex><span>split -b 10k file
</span></span><span style=display:flex><span>// -l <span style=color:#ae81ff>10</span> 以行数分割, -d 以数字为后缀, -a <span style=color:#ae81ff>4</span> 指定后缀长度
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 根据文本分割</span>
</span></span><span style=display:flex><span>csplit server.log /SERVER/ -n <span style=color:#ae81ff>2</span> -s <span style=color:#f92672>{</span>*<span style=color:#f92672>}</span> -f server -b “%02d.log”
</span></span><span style=display:flex><span>// /SERVER/ 以字符串为分界符，也可以行数
</span></span><span style=display:flex><span>// -s 安静模式, -z 删除0B文件
</span></span><span style=display:flex><span>// -n 文件名后缀数字个数, -f 指定文件名前缀, -b 指定文件名后缀
</span></span><span style=display:flex><span>// <span style=color:#f92672>{</span>2<span style=color:#f92672>}</span> 分割次数（*表示直到文件不可分割为止）
</span></span></code></pre></div><h2 id=统计>统计
<a class=header-anchor href=#%e7%bb%9f%e8%ae%a1></a></h2><p>统计文件中出现次数最多的前10个单词<sup>（每行一个单词）</sup>参考查看文件</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># 统计行数</span>
</span></span><span style=display:flex><span>wc -l 
</span></span><span style=display:flex><span>	-w 显示字符数
</span></span><span style=display:flex><span>	-c 显示bytes字节数
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 统计程序的行数</span>
</span></span><span style=display:flex><span>find path -type f -name “*.c” -print0 | xargs -0 wc -l
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 统计各行在文件中出现的次数</span>
</span></span><span style=display:flex><span>sort file | uniq -c
</span></span></code></pre></div><h2 id=排序去重>排序（去重）
<a class=header-anchor href=#%e6%8e%92%e5%ba%8f%e5%8e%bb%e9%87%8d></a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># 按字符排序</span>
</span></span><span style=display:flex><span>sort file
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 去重</span>
</span></span><span style=display:flex><span>sort file | uniq -c
</span></span></code></pre></div><table><thead><tr><th>sort选项</th><th>含义</th></tr></thead><tbody><tr><td>-c</td><td>统计重复行次数</td></tr><tr><td>-n</td><td>按数字排序，默认以字符形式<br></td></tr><tr><td>-M</td><td>按月排序（能识别三字符的月份名）</td></tr><tr><td>-k</td><td>指定排序的字段，从1开始<sup>（-k1表示以空格分割的第一列）</sup></td></tr><tr><td>-t</td><td>指定字段分隔符，例如&rsquo;:&rsquo;</td></tr><tr><td>-r</td><td>降序排列</td></tr></tbody></table><table><thead><tr><th>uniq选项</th><th>含义</th></tr></thead><tbody><tr><td>-f</td><td>比较时跳过前n列</td></tr><tr><td>-c</td><td>显示行重复的次数</td></tr><tr><td>-u</td><td>只显示出现一次的行（重复行全部不显示）</td></tr><tr><td>-d</td><td>只显示重复的行</td></tr><tr><td>-s</td><td>跳过前n个字符</td></tr><tr><td>-w</td><td>用于比较的最大字符数</td></tr></tbody></table><h1 id=软件>软件
<a class=header-anchor href=#%e8%bd%af%e4%bb%b6></a></h1><h2 id=ubuntuapt安装>ubuntu（apt安装）
<a class=header-anchor href=#ubuntuapt%e5%ae%89%e8%a3%85></a></h2><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>sudo apt install softName
</span></span></code></pre></div></li></ul><h3 id=设置镜像源>设置镜像源
<a class=header-anchor href=#%e8%ae%be%e7%bd%ae%e9%95%9c%e5%83%8f%e6%ba%90></a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak
</span></span><span style=display:flex><span>sudo gedit /etc/apt/sources.list
</span></span><span style=display:flex><span>sudo apt-get update
</span></span><span style=display:flex><span>sudo apt-get upgrade
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 阿里源（任选一个）</span>
</span></span><span style=display:flex><span>deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
</span></span><span style=display:flex><span>deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
</span></span><span style=display:flex><span>deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
</span></span><span style=display:flex><span>deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
</span></span><span style=display:flex><span>deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
</span></span><span style=display:flex><span>deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
</span></span><span style=display:flex><span>deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
</span></span><span style=display:flex><span>deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
</span></span><span style=display:flex><span>deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
</span></span><span style=display:flex><span>deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
</span></span></code></pre></div><h2 id=centosyum安装>centos（yum安装）
<a class=header-anchor href=#centosyum%e5%ae%89%e8%a3%85></a></h2><h3 id=设置镜像源-1>设置镜像源
<a class=header-anchor href=#%e8%ae%be%e7%bd%ae%e9%95%9c%e5%83%8f%e6%ba%90-1></a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup
</span></span><span style=display:flex><span><span style=color:#75715e># 阿里源</span>
</span></span><span style=display:flex><span>wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo
</span></span><span style=display:flex><span><span style=color:#75715e># 网易源（任选一个）</span>
</span></span><span style=display:flex><span>wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.163.com/.help/CentOS7-Base-163.repo
</span></span><span style=display:flex><span>yum clean all
</span></span><span style=display:flex><span>yum makecache
</span></span><span style=display:flex><span>yum update
</span></span></code></pre></div><h2 id=下载文件wgetcurl>下载文件wget/curl
<a class=header-anchor href=#%e4%b8%8b%e8%bd%bd%e6%96%87%e4%bb%b6wgetcurl></a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>sudo apt install wget
</span></span><span style=display:flex><span>wget -c -q URL -O fileName
</span></span><span style=display:flex><span><span style=color:#75715e># -c 支持断点续传, -q 安静模式, -O 下载后改名</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 如果出现Connecting to xxxxxxxx:443，添加--no-cookie --no-check-certificate</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>curl <span style=color:#f92672>[</span>option<span style=color:#f92672>]</span> URL
</span></span></code></pre></div><h2 id=软件下载位置>软件下载位置
<a class=header-anchor href=#%e8%bd%af%e4%bb%b6%e4%b8%8b%e8%bd%bd%e4%bd%8d%e7%bd%ae></a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>which 软件名
</span></span><span style=display:flex><span>rpm -qa|grep redis
</span></span><span style=display:flex><span><span style=color:#75715e># 查看rpm包版本</span>
</span></span><span style=display:flex><span>dpkg -l | grep ruby
</span></span><span style=display:flex><span><span style=color:#75715e># 查看deb包版本</span>
</span></span><span style=display:flex><span>yum list installed | grep ruby
</span></span><span style=display:flex><span><span style=color:#75715e># 查看yum安装的包版本</span>
</span></span><span style=display:flex><span>rpm -ql redis-3.2.10-2.el7.x86_64
</span></span><span style=display:flex><span><span style=color:#75715e># 查看安装路径</span>
</span></span></code></pre></div><h1 id=shell>shell
<a class=header-anchor href=#shell></a></h1><h2 id=ssh远程连接>ssh远程连接
<a class=header-anchor href=#ssh%e8%bf%9c%e7%a8%8b%e8%bf%9e%e6%8e%a5></a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>ssh 用户名@192.168.0.1 -p <span style=color:#ae81ff>22</span>
</span></span></code></pre></div><h2 id=后台运行>后台运行
<a class=header-anchor href=#%e5%90%8e%e5%8f%b0%e8%bf%90%e8%a1%8c></a></h2><p>tmux重启后不会保存，可能出现 failed to connect to server: Connection refused：</p><p><a href=https://zhuanlan.zhihu.com/p/146544540 title="自动保存tmux会话 关机重启再也不怕 - 知乎 (zhihu.com)" rel="noopener external nofollow noreferrer" target=_blank class=exturl>自动保存tmux会话 关机重启再也不怕 - 知乎 (zhihu.com)
<i class="fa fa-external-link-alt"></i></a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># tmux</span>
</span></span><span style=display:flex><span>sudo yum install tmux
</span></span><span style=display:flex><span>tmux new -s &lt;session-name&gt;
</span></span><span style=display:flex><span>tmux detach 或 ctrl+B D
</span></span><span style=display:flex><span>tmux attach -t &lt;session-name&gt;
</span></span><span style=display:flex><span>tmux ls
</span></span><span style=display:flex><span>tmux kill-session -t &lt;session-name&gt;
</span></span><span style=display:flex><span>tmux switch -t &lt;session-name&gt;
</span></span><span style=display:flex><span>tmux rename-session -t <span style=color:#ae81ff>0</span> &lt;new-name&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 后台运行，但控制台关闭（退出账户）时，会停止运行</span>
</span></span><span style=display:flex><span>cmd &amp;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 退出账号后，也会继续运行</span>
</span></span><span style=display:flex><span>nohup cmd &amp;
</span></span><span style=display:flex><span>nohup cmd &gt;/dev/null 2&gt;&amp;<span style=color:#ae81ff>1</span> &amp;
</span></span></code></pre></div><p>‍</p></div><footer class=post-footer><div class=post-tags><a href=/tags/linux>Linux</a></div><div class=addthis_inline_share_toolbox style=text-align:center></div><hr><div class=reward-container><div><i class="fa-solid fa-mug-hot"></i>请我喝杯咖啡吧 ヾ(^▽^*)))</div><button>
赞赏</button><div class=post-reward><div class=post-reward-item><img src=/imgs/img-lazy-loading.gif data-src=/imgs/ali-pay.png alt="arukasxy - 支付宝">
<span>支付宝</span></div><div class=post-reward-item><img src=/imgs/img-lazy-loading.gif data-src=/imgs/wechat-pay.png alt="arukasxy - 微信">
<span>微信</span></div></div></div><div class=post-copyright><img src=/imgs/cc/cc.svg width=75 height=75 align=right alt=共享知识><ul><li class=post-copyright-title><strong>文章标题：</strong>
Linux</li><li class=post-copyright-author><strong>本文作者： </strong>arukasxy</li><li class=post-copyright-link><strong>本文链接：</strong>
<a id=post-cr-link href=/post/linux-hqnng.html title=Linux>/post/linux-hqnng.html</a></li><li class=post-copyright-license><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <i class="fab fa-fw fa-creative-commons"></i><a target=_blank href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><div class=followme><span>欢迎关注我的其它发布渠道</span><div class=social-list><div class=social-item><a target=_blank class=social-link href=/images/wechat_channel.jpg><span class=icon><i class="fab fa-weixin"></i>
</span><span class=label>WeChat</span></a></div><div class=social-item><a target=_blank class=social-link href=/atom.xml><span class=icon><i class="fa fa-rss"></i>
</span><span class=label>RSS</span></a></div></div></div><div class=post-nav><div class="post-nav-next post-nav-item"><a href=/post/compile-u6c6n.html rel=next title=编译><i class="fa fa-chevron-left"></i> 编译</a></div><div class="post-nav-prev post-nav-item"><a href=/post/memory-management-z1c7hkf.html rel=prev title=内存管理>内存管理
<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div id=comments class=post-comments><div class=comment-head><div class=comment-headline><i class="fas fa-comments fa-fw"></i>
<span>评论交流</span></div></div><div class=comment-wrap><div><div class=comment-loading><i class="fa fa-sync fa-spin"></i></div><div class=waline-container></div></div></div></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>&copy;
<span itemprop=copyrightYear>2010 - 2024
</span><span class=with-love><i class="fa fa-heart"></i>
</span><span class=author itemprop=copyrightHolder>arukasxy</span></div><div class=powered-by>由 <a href=https://gohugo.io title=0.131.0 target=_blank>Hugo</a> & <a href=https://github.com/hugo-next/hugo-theme-next title=4.6.3 target=_blank>Hugo NexT.Gemini</a> 强力驱动</div><div class=beian><a href=https://beian.miit.gov.cn target=_blank>粤ICP备 18047355-1 号</a>
<img src=/imgs/gongan.png alt=沪公网安备>
<a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31011402009770" target=_blank>沪公网安备 31011402009770 号</a></div><div class=vendors-list><a target=_blank href=https://github.com title=Github><img src=/imgs/img-lazy-loading.gif data-src=/imgs/vendors/github.svg alt=Github>
</a><span>提供CDN/云资源支持</span></div></div></footer><script type=text/javascript src=/3rd/animejs/3.2.2/anime.min.js crossorigin=anonymous defer></script><script type=text/javascript src=/3rd/viewerjs/1.11.6/viewer.min.js crossorigin=anonymous defer></script><script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#222","enable":true,"save":"manual"},"copybtn":true,"darkmode":true,"giscus":{"cfg":{"category":"Comments","categoryid":null,"emit":false,"inputposition":"top","mapping":"title","reactions":false,"repo":"username/repo-name","repoid":null,"theme":"preferred_color_scheme"},"js":"https://giscus.app/client.js"},"hostname":"/","i18n":{"ds_day":" 天前","ds_days":" 天 ","ds_hour":" 小时前","ds_hours":" 小时 ","ds_just":"刚刚","ds_min":" 分钟前","ds_mins":" 分钟","ds_month":" 个月前","ds_years":" 年 ","empty":"没有找到任何搜索结果：${query}","hits":"找到 ${hits} 个搜索结果","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","placeholder":"搜索..."},"lang":"zh-CN","lazyload":false,"localSearch":{"enable":true,"limit":1e3,"path":"/searchindexes.xml","preload":false,"topnperarticle":-1,"trigger":"auto","unescape":false},"motion":{"async":true,"enable":true,"transition":{"collheader":"fadeInLeft","postblock":"fadeIn","postbody":"fadeInDown","postheader":"fadeInDown","sidebar":"fadeInUp"}},"postmeta":{"comments":{"enable":false,"plugin":"waline"},"views":{"enable":true,"plugin":"busuanzi"}},"root":"/","scheme":"Gemini","sidebar":{"display":"post","offset":12,"padding":18,"position":"left","width":256},"vendor":{"plugins":"local","router":{"name":"local","type":"modern","url":"/3rd"}},"version":"4.6.3","waline":{"cfg":{"emoji":false,"imguploader":false,"placeholder":"请文明发言哟 ヾ(≧▽≦*)o \n\n可用快捷键选取表情符号：😀😄😁🥳👻👽👀🚄\n(Window系统：Win+.，Mac系统：Control+Command+Space)","reaction":true,"reactiontext":["点赞","踩一下","得意","不屑","尴尬","睡觉"],"reactiontitle":"你认为这篇文章怎么样？","requiredmeta":["nick","mail"],"serverurl":"https://walinejs.comment.lithub.cc","sofa":"快来发表你的意见吧 (≧∀≦)ゞ","wordlimit":200},"css":{"alias":"@waline/client","file":"dist/waline.css","name":"waline","version":"2.15.8"},"js":{"alias":"@waline/client","file":"dist/waline.js","name":"waline","version":"2.15.8"}}}</script><script type=text/javascript src=/js/main.min.befa9b7d22ec90da86c74c5dbff5ee42c12e9fc6d6f4448bfcc596cc329b19e8.js defer></script></body></html>