<!doctype html><html lang=zh-CN data-theme=dark><head><meta charset=UTF-8><meta name=viewport content="width=device-width"><meta name=theme-color content="#222" media="(prefers-color-scheme: dark)"><meta name=generator content="Hugo 0.131.0"><link rel="shortcut icon" type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon_16x16_next.png><link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon_32_32_next.png><link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/apple_touch_icon_next.png><meta itemprop=name content="string字符串"><meta itemprop=description content><meta name=description content><meta itemprop=datePublished zgotmplz><meta itemprop=dateModified zgotmplz><meta itemprop=image content="/imgs/hugo_next_avatar.png"><meta itemprop=keywords content="字符串"><meta property="og:type" content="article"><meta property="og:title" content="string字符串"><meta property="og:description" content><meta property="og:image" content="/imgs/hugo_next_avatar.png"><meta property="og:image:width" content="312"><meta property="og:image:height" content="312"><meta property="og:image:type" content="image/jpeg/png/svg/jpg"><meta property="og:url" content="/post/string-string-1g9olm.html"><meta property="og:site_name" content="Sakura Notes"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="arukasxy"><meta property="article:published_time" content="2024-07-10 23:42:16 +0800 +0800"><meta property="article:modified_time" content="2024-08-08 13:01:41 +0800 +0800"><link type=text/css rel=stylesheet href=/3rd/font-awesome/6.6.0/css/all.min.css><link type=text/css rel=stylesheet href=/3rd/animate.css/4.1.1/animate.min.css><link type=text/css rel=stylesheet href=/3rd/viewerjs/1.11.6/viewer.min.css><link rel=stylesheet href=/css/main.min.ab1c3ae9fc9258afee98d91f39e4c6c4fe3d7d90222efbbe570558fcadfc2105.css><style type=text/css>.post-footer,.flinks-list-footer hr:after{content:"~ 我可是有底线的哟 ~"}</style><script type=text/javascript>(function(){localDB={set:function(e,t,n){if(n===0)return;const s=new Date,o=n*864e5,i={value:t,expiry:s.getTime()+o};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return void 0;const n=JSON.parse(t),s=new Date;return s.getTime()>n.expiry?(localStorage.removeItem(e),void 0):n.value}},theme={active:function(){const e=localDB.get("theme");if(e==null)return;theme.toggle(e),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){theme.toggle(e.matches?"dark":"light")})},toggle:function(e){document.documentElement.setAttribute("data-theme",e),localDB.set("theme",e,2);const t=document.querySelector("iframe.giscus-frame");if(t){const n={setConfig:{theme:e}};t.contentWindow.postMessage({giscus:n},"https://giscus.app")}}},theme.active()})(window)</script><script class=next-config data-name=page type=application/json>{"comments":true,"isHome":false,"isPage":true,"path":"string-string-1g9olm.html","permalink":"/post/string-string-1g9olm.html","title":"string字符串","waline":{"js":[{"alias":"@waline/client","alias_name":"waline","file":"dist/pageview.js","name":"pageview","version":"2.15.8"},{"alias":"@waline/client","alias_name":"waline","file":"dist/comment.js","name":"comment","version":"2.15.8"}]}}</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",e.async=!1,e.defer=!0,document.head.appendChild(e),e.onload=function(){NexT.utils.fmtBusuanzi()}})</script><title>string字符串 - Sakura Notes</title><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><h1 class=site-title>Sakura Notes</h1><i class=logo-line></i></a><p class=site-subtitle itemprop=description>计算机,C++,数据库</p></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-home hvr-icon"></i>首页</a></li><li class="menu-item menu-item-archives"><a href=/archives/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>归档
<span class=badge>19</span></a></li><li class="menu-item menu-item-search"><a role=button class="popup-trigger hvr-icon-pulse"><i class="fa fa-search fa-fw hvr-icon"></i>搜索</a></li></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon><i class="fa fa-search"></i></span><div class=search-input-container><input autocomplete=off autocapitalize=off maxlength=80 placeholder=搜索... spellcheck=false type=search class=search-input></div><span class=popup-btn-close role=button><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录</li><li class=sidebar-nav-overview>站点概览</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><nav id=TableOfContents><ul><li><a href=#数字转stringchar>数字转string/char*</a></li><li><a href=#c-string-转string>C-string 转string</a></li><li><a href=#string-转c-string>string 转C-string</a></li><li><a href=#stringchar转数字>string/char*转数字</a></li><li><a href=#大小写转换>大小写转换</a></li><li><a href=#字符流转任意类型>字符流（转任意类型）</a></li><li><a href=#字符串视图>字符串视图</a></li></ul></nav></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=arukasxy src=/imgs/img-lazy-loading.gif data-src=/imgs/hugo_next_avatar.png><p class=site-author-name itemprop=name>arukasxy</p><div class=site-description itemprop=description></div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/><span class=site-state-item-count>19</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>8</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>20</span>
<span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-social site-overview-item animated"><span class=links-of-social-item><a href=https://github.com/arukasxy title="Github → https://github.com/arukasxy" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-github fa-fw hvr-icon"></i>
Github</a></span></div><div class="cc-license animated" itemprop=license><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh class=cc-opacity rel=noopener target=_blank title=共享知识><img src=/imgs/img-lazy-loading.gif data-src=/imgs/cc/big/by_nc_sa.svg alt=共享知识></a></div></div></div></div><div id=siteinfo-card-widget class=sidebar-card-widget><div class=item-headline><i class="fas fa-chart-line"></i>
<span>网站资讯</span></div><div class=siteinfo><div class=siteinfo-item><div class=item-name><i class="fa-solid fa-calendar-check"></i>已运行：</div><div class=item-count id=runTimes data-publishdate=2024-08-08T00:00:00+08:00></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-user"></i>总访客数：</div><div class=item-count id=busuanzi_value_site_uv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-eye"></i>页面浏览：</div><div class=item-count id=busuanzi_value_site_pv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-font"></i>总字数：</div><div class=item-count id=wordsCount data-count=43428></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-mug-hot"></i>阅读约：</div><div class=item-count id=readTimes data-times=96></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-clock-rotate-left"></i>最后更新于：</div><div class=item-count id=last-push-date data-lastpushdate=2024-07-11T09:29:35+08:00></div></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=tool-buttons><div id=goto-comments class="button goto-comments" title=直达评论><i class="fas fa-comments"></i></div><div id=toggle-theme class=button title=深浅模式切换><i class="fas fa-adjust"></i></div><div class=back-to-top role=button title=返回顶部><i class="fa fa-arrow-up"></i>
<span>0%</span></div></div><div class=reading-progress-bar></div><a role=button class="book-mark-link book-mark-link-fixed"></a><a href=https://github.com/hugo-next rel="noopener external nofollow noreferrer" target=_blank title="Follow me on GitHub" class="exturl github-corner"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=/post/string-string-1g9olm.html><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/hugo_next_avatar.png"><meta itemprop=name content="arukasxy"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="arukasxy"><meta itemprop=description content></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="string字符串"><meta itemprop=description content="string字符串 翻转字符串 reverse(s.begin(), s.end()); reverse(s.begin()+i , s.begin()+i+k); // 翻转以i为起始的k个字符串 void reverse(char *str, int n){ std::reverse(str, str+n); } 分割split void SplitString(const std::string& s, std::vector<std::string>& v, const std::string& c) { std::string::size_type pos1, pos2; pos2 = s.find(c); pos1 = 0; while(std::string::npos != pos2)"></span><header class=post-header><h1 class=post-title itemprop="name headline">string字符串
<a href=https://github.com/user-name/repo-name/tree/branch-name/subdirectory-name/post/string-string-1g9olm.md rel="noopener external nofollow noreferrer" target=_blank class="exturl post-edit-link" title=编辑><i class="fa fa-pen-nib"></i></a></h1><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2024-07-10 23:42:16 +0800 +0800" itemprop="dateCreated datePublished" datetime="2024-07-10 23:42:16 +0800 +0800">2024-07-10
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar-check"></i>
</span><span class=post-meta-item-text title=更新于>更新于：
</span><time title=修改时间：2024-08-08T13:01:41+08:00 itemprop=dateModified datetime=2024-08-08T13:01:41+08:00>2024-08-08</time>
</span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84 itemprop=url rel=index><span itemprop=name>数据结构</span></a></span></span></div><div class=post-meta-items><span class=post-meta-item title=字数><span class=post-meta-item-icon><i class="fas fa-solid fa-file-word"></i>
</span><span class=post-meta-item-text>字数：</span>
<span>2715</span>
</span><span class=post-meta-item title=阅读><span class=post-meta-item-icon><i class="fas fa-solid fa-clock"></i>
</span><span class=post-meta-item-text>阅读：&ap;</span>
<span>6分钟</span>
</span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=busuanzi_value_page_pv data-path=/post/string-string-1g9olm.html><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class="post-body autonumber" itemprop=articleBody><h1 id=string字符串>string字符串
<a class=header-anchor href=#string%e5%ad%97%e7%ac%a6%e4%b8%b2></a></h1><h1 id=翻转字符串>翻转字符串
<a class=header-anchor href=#%e7%bf%bb%e8%bd%ac%e5%ad%97%e7%ac%a6%e4%b8%b2></a></h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-C++ data-lang=C++><span style=display:flex><span>reverse(s.begin(), s.end());
</span></span><span style=display:flex><span>reverse(s.begin()<span style=color:#f92672>+</span>i , s.begin()<span style=color:#f92672>+</span>i<span style=color:#f92672>+</span>k); <span style=color:#75715e>// 翻转以i为起始的k个字符串
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>reverse</span>(<span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>str, <span style=color:#66d9ef>int</span> n){
</span></span><span style=display:flex><span>	std<span style=color:#f92672>::</span>reverse(str, str<span style=color:#f92672>+</span>n);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h1 id=分割split>分割split
<a class=header-anchor href=#%e5%88%86%e5%89%b2split></a></h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>SplitString</span>(<span style=color:#66d9ef>const</span> std<span style=color:#f92672>::</span>string<span style=color:#f92672>&amp;</span> s, std<span style=color:#f92672>::</span>vector<span style=color:#f92672>&lt;</span>std<span style=color:#f92672>::</span>string<span style=color:#f92672>&gt;&amp;</span> v, <span style=color:#66d9ef>const</span> std<span style=color:#f92672>::</span>string<span style=color:#f92672>&amp;</span> c)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  std<span style=color:#f92672>::</span>string<span style=color:#f92672>::</span>size_type pos1, pos2;
</span></span><span style=display:flex><span>  pos2 <span style=color:#f92672>=</span> s.find(c);
</span></span><span style=display:flex><span>  pos1 <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>while</span>(std<span style=color:#f92672>::</span>string<span style=color:#f92672>::</span>npos <span style=color:#f92672>!=</span> pos2)
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>	<span style=color:#75715e>// if(pos2 != pos1) 忽略空子串
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    v.push_back(s.substr(pos1, pos2<span style=color:#f92672>-</span>pos1));
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    pos1 <span style=color:#f92672>=</span> pos2 <span style=color:#f92672>+</span> c.size();
</span></span><span style=display:flex><span>    pos2 <span style=color:#f92672>=</span> s.find(c, pos1);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(pos1 <span style=color:#f92672>!=</span> s.length())
</span></span><span style=display:flex><span>    v.push_back(s.substr(pos1));
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>使用stringstream：会保存空字符串，支持连续分隔符（中间为空字符串），支持字符串分隔符</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;sstream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>stringstream <span style=color:#a6e22e>ss</span>(line) 
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>或</span> ss<span style=color:#f92672>&lt;&lt;</span>line;
</span></span><span style=display:flex><span><span style=color:#75715e># n个字符串
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;i<span style=color:#f92672>&lt;</span>n;i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>	getline(ss,v[i],<span style=color:#e6db74>&#39;,&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e># 不确定字符串数目
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>while</span>(getline(ss,str,<span style=color:#e6db74>&#39;,&#39;</span>))
</span></span><span style=display:flex><span>	vec.push_back(str);
</span></span></code></pre></div><p>分隔符可能连续：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>SplitString</span>(<span style=color:#66d9ef>const</span> std<span style=color:#f92672>::</span>string<span style=color:#f92672>&amp;</span> str, std<span style=color:#f92672>::</span>vector<span style=color:#f92672>&lt;</span>std<span style=color:#f92672>::</span>string<span style=color:#f92672>&gt;&amp;</span> res, <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span> chrc)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> ( str.empty( ) ) <span style=color:#66d9ef>return</span> ;		<span style=color:#75715e>//判空
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	std<span style=color:#f92672>::</span>string strs <span style=color:#f92672>=</span> str <span style=color:#f92672>+</span> chrc;  <span style=color:#75715e>//末尾加上分隔符方便计算
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	size_t size <span style=color:#f92672>=</span> strs.size();
</span></span><span style=display:flex><span>	size_t pos{ <span style=color:#ae81ff>0</span> };				<span style=color:#75715e>//分割位置			
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#66d9ef>bool</span> meet{ false };             <span style=color:#75715e>//分隔符连续标志位
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (size_t i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;=</span> size; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>	{
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (strs[i] <span style=color:#f92672>!=</span> chrc <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span>meet) <span style=color:#75715e>// 不是分割符，分隔符不连续
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		{
</span></span><span style=display:flex><span>			pos <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>			meet <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (strs[i] <span style=color:#f92672>==</span> chrc <span style=color:#f92672>&amp;&amp;</span> meet) <span style=color:#75715e>// 是分隔符，无非分隔符数据
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		{
</span></span><span style=display:flex><span>			res.push_back(strs.substr(pos, i <span style=color:#f92672>-</span> pos));
</span></span><span style=display:flex><span>			pos <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>			meet <span style=color:#f92672>=</span> false;
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> ;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>将结果保存在set中，分隔符为delim中任意一个字符，结果不包括delim，可支持连续分隔符：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>split_string</span>(<span style=color:#66d9ef>const</span> std<span style=color:#f92672>::</span>string <span style=color:#f92672>&amp;</span>str, std<span style=color:#f92672>::</span>string delim, std<span style=color:#f92672>::</span>set<span style=color:#f92672>&lt;</span>std<span style=color:#f92672>::</span>string<span style=color:#f92672>&gt;</span> <span style=color:#f92672>&amp;</span>results)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>int</span> cut_at;
</span></span><span style=display:flex><span>  std<span style=color:#f92672>::</span>string tmp_str(str);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>while</span> ((cut_at <span style=color:#f92672>=</span> tmp_str.find_first_of(delim)) <span style=color:#f92672>!=</span> (<span style=color:#66d9ef>signed</span>)tmp_str.npos) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (cut_at <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>      results.insert(tmp_str.substr(<span style=color:#ae81ff>0</span>, cut_at));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    tmp_str <span style=color:#f92672>=</span> tmp_str.substr(cut_at <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (tmp_str.length() <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>    results.insert(tmp_str);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>将结果保存在vector中，分隔符为delim中任意一个字符，如果超内存，则可以用第一版本：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>split_string</span>(<span style=color:#66d9ef>const</span> std<span style=color:#f92672>::</span>string <span style=color:#f92672>&amp;</span>str, std<span style=color:#f92672>::</span>string delim, std<span style=color:#f92672>::</span>vector<span style=color:#f92672>&lt;</span>std<span style=color:#f92672>::</span>string<span style=color:#f92672>&gt;</span> <span style=color:#f92672>&amp;</span>results)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>int</span> cut_at;
</span></span><span style=display:flex><span>  std<span style=color:#f92672>::</span>string tmp_str(str);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>while</span> ((cut_at <span style=color:#f92672>=</span> tmp_str.find_first_of(delim)) <span style=color:#f92672>!=</span> (<span style=color:#66d9ef>signed</span>)tmp_str.npos) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (cut_at <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>      results.push_back(tmp_str.substr(<span style=color:#ae81ff>0</span>, cut_at));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    tmp_str <span style=color:#f92672>=</span> tmp_str.substr(cut_at <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (tmp_str.length() <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>    results.push_back(tmp_str);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>C风格字符串分割，keep_null 是否保存空子字符串：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>split_string</span>(<span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>str, <span style=color:#66d9ef>char</span> dim, std<span style=color:#f92672>::</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>char</span> <span style=color:#f92672>*&gt;</span> <span style=color:#f92672>&amp;</span>results, <span style=color:#66d9ef>bool</span> keep_null)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>p <span style=color:#f92672>=</span> str;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>l <span style=color:#f92672>=</span> p;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>while</span> (<span style=color:#f92672>*</span>p) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>*</span>p <span style=color:#f92672>==</span> dim) {
</span></span><span style=display:flex><span>      <span style=color:#f92672>*</span>p<span style=color:#f92672>++</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> (p <span style=color:#f92672>-</span> l <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>||</span> keep_null)
</span></span><span style=display:flex><span>        results.push_back(l);
</span></span><span style=display:flex><span>      l <span style=color:#f92672>=</span> p;
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>++</span>p;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (p <span style=color:#f92672>-</span> l <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> keep_null)
</span></span><span style=display:flex><span>    results.push_back(l);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h1 id=字符类型判断>字符类型判断
<a class=header-anchor href=#%e5%ad%97%e7%ac%a6%e7%b1%bb%e5%9e%8b%e5%88%a4%e6%96%ad></a></h1><p>字符以ASCII码存储，如‘0’的ASCII值为48，空字符的ASCII值为0</p><p>​<img src=/imgs/img-lazy-loading.gif data-src=https://raw.githubusercontent.com/arukasxy/notes/main/content/post/image-viewer/image-20240716221425-pp6ex6k.png alt=image>​</p><h1 id=追加拼接>追加（拼接）
<a class=header-anchor href=#%e8%bf%bd%e5%8a%a0%e6%8b%bc%e6%8e%a5></a></h1><p>单个字符使用+=，其余情况用append</p><table><thead><tr><th><br></th><th>append</th><th>+=</th><th>push_back</th></tr></thead><tbody><tr><td>string</td><td>str.append(str2);</td><td>str1 += str2;</td><td>√</td></tr><tr><td>substring</td><td>str1.append(str2, 0, 5);<sup>(追加str2从下标0开始的5个字符)</sup></td><td>×</td><td>×</td></tr><tr><td>字符串常量</td><td>str1.append(&ldquo;Geeks&rdquo;);</td><td>str += &ldquo;Geeks&rdquo;;</td><td>×</td></tr><tr><td>char ch[6]</td><td>str1.append(ch);</td><td>str += ch;</td><td>×</td></tr><tr><td>char</td><td>×</td><td>str += &lsquo;C&rsquo;;</td><td>str1.push_back(&lsquo;C&rsquo;);</td></tr><tr><td>iterator range</td><td>str1.append(str2.begin() + 5,<br>str2.end());<br></td><td>×</td><td>×</td></tr></tbody></table><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#75715e># 把 src 所指向的字符串追加到 dest 所指向的字符串的结尾
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>strcat</span>(<span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>dest, <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>src)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 将src的前n个字符拼接到dest中(确保dest有足够的内存空间)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>strncat(<span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>dest, <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>src,<span style=color:#66d9ef>int</span> n)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 使用sprintf拼接
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>a <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;aaaaa&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>b <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;bbbbb&#34;</span>;
</span></span><span style=display:flex><span>sprintf(s,<span style=color:#e6db74>&#34;%s%s&#34;</span>,a,b);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 拼接vector&lt;string&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>reduce(v.begin(), v.end());
</span></span></code></pre></div><h1 id=插入>插入
<a class=header-anchor href=#%e6%8f%92%e5%85%a5></a></h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c++ data-lang=c++><span style=display:flex><span>string<span style=color:#f92672>&amp;</span> insert (size_t pos, <span style=color:#66d9ef>const</span> string<span style=color:#f92672>&amp;</span> str, size_t subpos, size_t sublen)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 在index位置插入字符
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>string<span style=color:#f92672>::</span>iterator it <span style=color:#f92672>=</span> str1.insert(str1.begin(),<span style=color:#e6db74>&#39;a&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 在index位置插入2个字符
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>string sstr <span style=color:#f92672>=</span> str.insert(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>2</span>,<span style=color:#e6db74>&#39;a&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 在index位置插入字符串
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>string sstr <span style=color:#f92672>=</span> str.insert(<span style=color:#ae81ff>1</span>,<span style=color:#e6db74>&#34;hello~&#34;</span>);
</span></span><span style=display:flex><span>string sstr <span style=color:#f92672>=</span> str.insert(<span style=color:#ae81ff>1</span>,<span style=color:#e6db74>&#34;hello~&#34;</span>,<span style=color:#ae81ff>3</span>); <span style=color:#75715e>//hel 前count个字符
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>string sstr <span style=color:#f92672>=</span> str2.insert(<span style=color:#ae81ff>6</span>,str1,<span style=color:#ae81ff>3</span>,string<span style=color:#f92672>::</span>npos);
</span></span><span style=display:flex><span><span style=color:#75715e>// 在位置6插入str1字符串从3开始的npos个字符
</span></span></span><span style=display:flex><span><span style=color:#75715e>// npos为size_t的最大值
</span></span></span></code></pre></div><h1 id=排序>排序
<a class=header-anchor href=#%e6%8e%92%e5%ba%8f></a></h1><p>如果字符串长度相同，按字典序排序</p><p>如果字符串长度不同，字符串长的越大</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c++ data-lang=c++><span style=display:flex><span>sort(s.begin(),s.end());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 字典序排序规则
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>cmp</span> (string <span style=color:#f92672>&amp;</span>a, string <span style=color:#f92672>&amp;</span>b){
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span>(a.size()<span style=color:#f92672>==</span>b.size()) <span style=color:#66d9ef>return</span>  a<span style=color:#f92672>&gt;</span>b;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> a.size() <span style=color:#f92672>&gt;</span> b.size();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h1 id=大小>大小
<a class=header-anchor href=#%e5%a4%a7%e5%b0%8f></a></h1><p>注意数组char[]作为参数，会退化为指针</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#75715e>#include&lt;cstring&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>s.length();
</span></span><span style=display:flex><span>s.size();
</span></span><span style=display:flex><span>string<span style=color:#f92672>::</span>max_size(); <span style=color:#75715e>// 字符串大小上限
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e># 返回指针所占字节大小(和计算机位数有关)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>sizeof</span>(<span style=color:#66d9ef>char</span><span style=color:#f92672>*</span> s)
</span></span><span style=display:flex><span><span style=color:#75715e># 返回字符数组所占字节大小(包含\0)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>sizeof</span>(<span style=color:#66d9ef>char</span>[] s) 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 返回字符个数(不包含\0)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>strlen(<span style=color:#66d9ef>char</span>[] s)
</span></span><span style=display:flex><span>strlen(<span style=color:#66d9ef>char</span><span style=color:#f92672>*</span> s)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>size_t strlen(<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>str) {
</span></span><span style=display:flex><span>    size_t length <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (<span style=color:#f92672>*</span>str<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#f92672>++</span>length;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> length;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><table><thead><tr><th></th><th>sizeof</th><th>strlen</th></tr></thead><tbody><tr><td>时间</td><td>编译时</td><td>运行时</td></tr><tr><td>空间</td><td>所占字节大小</td><td>字符串长度</td></tr><tr><td>大小</td><td>包含\0</td><td>不包含\0</td></tr><tr><td></td><td>运算符</td><td>库函数</td></tr><tr><td>参数</td><td>任意类型</td><td>字符型指针且以\0结尾</td></tr></tbody></table><h1 id=类型转换>类型转换
<a class=header-anchor href=#%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2></a></h1><h2 id=数字转stringchar>数字转string/char*
<a class=header-anchor href=#%e6%95%b0%e5%ad%97%e8%bd%acstringchar></a></h2><p>与进制转换相关参考进制转换</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c++ data-lang=c++><span style=display:flex><span>std<span style=color:#f92672>::</span>to_string(<span style=color:#ae81ff>3.1415926</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 支持int32_t
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;sstream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>template</span><span style=color:#f92672>&lt;</span><span style=color:#66d9ef>typename</span> T<span style=color:#f92672>&gt;</span> string toString(<span style=color:#66d9ef>const</span> T<span style=color:#f92672>&amp;</span> t){
</span></span><span style=display:flex><span>    ostringstream oss;  <span style=color:#75715e>//创建一个格式化输出流
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    oss<span style=color:#f92672>&lt;&lt;</span>t;             <span style=color:#75715e>//把值传递如流中
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> oss.str();   
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># int 转 char*
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>intStr <span style=color:#f92672>=</span> itoa(<span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>itoa</span>(<span style=color:#66d9ef>int</span> i,<span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>s,<span style=color:#66d9ef>int</span> radix); <span style=color:#75715e>// radix指定进制
</span></span></span></code></pre></div><h2 id=c-string-转string>C-string 转string
<a class=header-anchor href=#c-string-%e8%bd%acstring></a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#66d9ef>char</span> ch[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#39;a&#39;</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>0</span>};
</span></span><span style=display:flex><span>string <span style=color:#a6e22e>s</span>(ch); <span style=color:#75715e>// 仅支持char*，不支持char
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;sstream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>char</span> key <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;a&#39;</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span>stringstream ss;
</span></span><span style=display:flex><span>ss<span style=color:#f92672>&lt;&lt;</span>key;
</span></span><span style=display:flex><span>string s;
</span></span><span style=display:flex><span>ss<span style=color:#f92672>&gt;&gt;</span>s;
</span></span></code></pre></div><h2 id=string-转c-string>string 转C-string
<a class=header-anchor href=#string-%e8%bd%acc-string></a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>c_str</span>(); <span style=color:#75715e>// 自动添加终止符
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>char</span> arr[str.length() <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>]; 
</span></span><span style=display:flex><span>strcpy(arr, str.c_str()); 
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>或</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> a[<span style=color:#ae81ff>20</span>];
</span></span><span style=display:flex><span>std<span style=color:#f92672>::</span>strcpy(a, std<span style=color:#f92672>::</span>data(s));
</span></span></code></pre></div><h2 id=stringchar转数字>string/char*转数字
<a class=header-anchor href=#stringchar%e8%bd%ac%e6%95%b0%e5%ad%97></a></h2><p>与进制转换相关参考进制转换</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#75715e># 将2进制字符串从位置0开始转换为十进制
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>int</span> a <span style=color:#f92672>=</span> stoi(str, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># char* 转 int(十进制)
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstdlib&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>int</span> a <span style=color:#f92672>=</span> atoi(s.c_str())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># char* 转 long
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>long</span> a <span style=color:#f92672>=</span> strol(s.c_str(),<span style=color:#66d9ef>nullptr</span>,<span style=color:#ae81ff>10</span>) <span style=color:#75715e>// 10进制
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e># char* 转 long long
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span> a <span style=color:#f92672>=</span> stoll(s.c_str())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># char* 转 float
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>float</span> a <span style=color:#f92672>=</span> stof(s.c_str())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># char* 转 double
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>double</span> a <span style=color:#f92672>=</span> stod(s.c_str())
</span></span></code></pre></div><h2 id=大小写转换>大小写转换
<a class=header-anchor href=#%e5%a4%a7%e5%b0%8f%e5%86%99%e8%bd%ac%e6%8d%a2></a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cctype&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>transform(out.begin(), out.end(), out.begin(), <span style=color:#f92672>::</span>toupper); <span style=color:#75715e>// 大写
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>transform(out.begin(), out.end(), out.begin(), <span style=color:#f92672>::</span>tolower); <span style=color:#75715e>// 小写
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#960050;background-color:#1e0010>或</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;string&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>transform(s.begin(),s.end(),s.begin(),(<span style=color:#66d9ef>int</span> (<span style=color:#f92672>*</span>)(<span style=color:#66d9ef>int</span>))toupper);
</span></span><span style=display:flex><span>transform(s.begin(),s.end(),s.begin(),(<span style=color:#66d9ef>int</span> (<span style=color:#f92672>*</span>)(<span style=color:#66d9ef>int</span>))tolower);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 转小写（位运算）
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>(<span style=color:#e6db74>&#39;a&#39;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#39; &#39;</span>) <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;a&#39;</span>
</span></span><span style=display:flex><span>(<span style=color:#e6db74>&#39;A&#39;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#39; &#39;</span>) <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;a&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 转大写（位运算）
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>(<span style=color:#e6db74>&#39;b&#39;</span> <span style=color:#f92672>&amp;</span> <span style=color:#e6db74>&#39;_&#39;</span>) <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;B&#39;</span>
</span></span><span style=display:flex><span>(<span style=color:#e6db74>&#39;B&#39;</span> <span style=color:#f92672>&amp;</span> <span style=color:#e6db74>&#39;_&#39;</span>) <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;B&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 大小写互换
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>(<span style=color:#e6db74>&#39;d&#39;</span> <span style=color:#f92672>^</span> <span style=color:#e6db74>&#39; &#39;</span>) <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;D&#39;</span>
</span></span><span style=display:flex><span>(<span style=color:#e6db74>&#39;D&#39;</span> <span style=color:#f92672>^</span> <span style=color:#e6db74>&#39; &#39;</span>) <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;d&#39;</span>
</span></span></code></pre></div><h2 id=字符流转任意类型>字符流（转任意类型）
<a class=header-anchor href=#%e5%ad%97%e7%ac%a6%e6%b5%81%e8%bd%ac%e4%bb%bb%e6%84%8f%e7%b1%bb%e5%9e%8b></a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;sstream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>sstream <span style=color:#f92672>&lt;&lt;</span> str;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 字符流转string
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> string<span style=color:#f92672>&amp;</span> str2 <span style=color:#f92672>=</span> ss.str();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># string转int(转任意类型)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>stringstream steam;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> a <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>steam <span style=color:#f92672>&lt;&lt;</span> str;
</span></span><span style=display:flex><span>steam <span style=color:#f92672>&gt;&gt;</span> a;
</span></span></code></pre></div><h2 id=字符串视图>字符串视图
<a class=header-anchor href=#%e5%ad%97%e7%ac%a6%e4%b8%b2%e8%a7%86%e5%9b%be></a></h2><ul><li>C++17支持</li><li>仅能用于字符串查找、遍历（只读），而不能修改</li></ul><h1 id=格式化>格式化
<a class=header-anchor href=#%e6%a0%bc%e5%bc%8f%e5%8c%96></a></h1><ul><li>C++20支持</li><li>具体选项参考指定格式数据</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c++ data-lang=c++><span style=display:flex><span>std<span style=color:#f92672>::</span>string s <span style=color:#f92672>=</span> fmt<span style=color:#f92672>::</span>format(<span style=color:#e6db74>&#34;I&#39;d rather be {1} than {0}.&#34;</span>, <span style=color:#e6db74>&#34;right&#34;</span>, <span style=color:#e6db74>&#34;happy&#34;</span>);
</span></span><span style=display:flex><span>std<span style=color:#f92672>::</span>string s <span style=color:#f92672>=</span> fmt<span style=color:#f92672>::</span>format(<span style=color:#e6db74>&#34;{}, {}, {}&#34;</span>, <span style=color:#e6db74>&#39;a&#39;</span>, <span style=color:#e6db74>&#39;b&#39;</span>, <span style=color:#e6db74>&#39;c&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stdio.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>char</span> temp[<span style=color:#ae81ff>14</span>];
</span></span><span style=display:flex><span>sprintf(temp,<span style=color:#e6db74>&#34;hello world%d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>,i);
</span></span><span style=display:flex><span><span style=color:#75715e># 限制输出的字符数，避免缓冲区溢出
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> snprintf(buffer, <span style=color:#66d9ef>sizeof</span>(buffer)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#34;This is %s</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, s);
</span></span></code></pre></div><h1 id=子串>子串
<a class=header-anchor href=#%e5%ad%90%e4%b8%b2></a></h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-C++ data-lang=C++><span style=display:flex><span>s[i,j] <span style=color:#f92672>==</span> s.substr(i,j<span style=color:#f92672>-</span>i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>s[i,j] <span style=color:#f92672>==</span> s.substr(i,j<span style=color:#f92672>-</span>i)
</span></span><span style=display:flex><span>s[i,.. <span style=color:#f92672>==</span> s.substr(i)
</span></span></code></pre></div><h1 id=替换>替换
<a class=header-anchor href=#%e6%9b%bf%e6%8d%a2></a></h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#75715e># 替换指定位置
</span></span></span><span style=display:flex><span><span style=color:#75715e># 从第一个a位置开始的两个字符替换成
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>str<span style=color:#f92672>=</span>str.replace(str.find(<span style=color:#e6db74>&#34;a&#34;</span>),<span style=color:#ae81ff>2</span>,<span style=color:#e6db74>&#34;#&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e># 用#替换从begin位置开始的5个字符
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>str<span style=color:#f92672>=</span>str.replace(str.begin(),str.begin()<span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>,<span style=color:#e6db74>&#34;#&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 替换指定字符
</span></span></span><span style=display:flex><span><span style=color:#75715e># 每次从头开始替换
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>string<span style=color:#f92672>&amp;</span> replace_all(string<span style=color:#f92672>&amp;</span> str, <span style=color:#66d9ef>const</span> string<span style=color:#f92672>&amp;</span> old_value, <span style=color:#66d9ef>const</span> string<span style=color:#f92672>&amp;</span> new_value)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span>( true ) {
</span></span><span style=display:flex><span>		string<span style=color:#f92672>::</span>size_type pos(<span style=color:#ae81ff>0</span>); <span style=color:#75715e>//  string::size_type rc = s.find(.....)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		<span style=color:#66d9ef>if</span>( (pos<span style=color:#f92672>=</span>str.find(old_value)) <span style=color:#f92672>!=</span> string<span style=color:#f92672>::</span>npos )  <span style=color:#75715e>//注意pos = str.find(...)要加括号
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>			str.replace(pos,old_value.length(),new_value);
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>else</span> 
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>break</span> ;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> str;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e># 每次从上一次替换的位置开始
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>string<span style=color:#f92672>&amp;</span> replace_all_distinct(string<span style=color:#f92672>&amp;</span> str, <span style=color:#66d9ef>const</span> string<span style=color:#f92672>&amp;</span> old_value, <span style=color:#66d9ef>const</span> string<span style=color:#f92672>&amp;</span> new_value)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span>(string<span style=color:#f92672>::</span>size_type pos(<span style=color:#ae81ff>0</span>); pos<span style=color:#f92672>!=</span>string<span style=color:#f92672>::</span>npos; pos<span style=color:#f92672>+=</span>new_value.length()) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span>( (pos<span style=color:#f92672>=</span>str.find(old_value,pos))<span style=color:#f92672>!=</span>string<span style=color:#f92672>::</span>npos )
</span></span><span style=display:flex><span>			str.replace(pos,old_value.length(),new_value);
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>else</span> 
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>break</span> ;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span>	str;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h1 id=复制>复制
<a class=header-anchor href=#%e5%a4%8d%e5%88%b6></a></h1><ul><li><p>使用内存复制</p></li><li><p>strcpy 复制整个字符串</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#75715e># 返回char* 链式调用,如int length = strlen( strcpy( strDest, “hello world”) );
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>strcpy</span>(<span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>strDest, <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>strSrc)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    assert((strDest<span style=color:#f92672>!=</span>NULL) <span style=color:#f92672>&amp;&amp;</span> (strSrc <span style=color:#f92672>!=</span>NULL));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>address <span style=color:#f92672>=</span> strDest;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span>( (<span style=color:#f92672>*</span>strDest<span style=color:#f92672>++</span> <span style=color:#f92672>=</span> <span style=color:#f92672>*</span> strSrc<span style=color:#f92672>++</span>) <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;\0&#39;</span> )
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> address ;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li><li><p>strncpy 复制字符串的前n个字符</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>strncpy</span>(<span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>dest, <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>src<span style=color:#960050;background-color:#1e0010>，</span><span style=color:#66d9ef>int</span> n);
</span></span><span style=display:flex><span>strncpy(dest, src, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span><span style=color:#f92672>*</span> <span style=color:#a6e22e>strncpy</span>(<span style=color:#66d9ef>char</span><span style=color:#f92672>*</span> dest, <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span><span style=color:#f92672>*</span> src,size_t count)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>char</span><span style=color:#f92672>*</span> start <span style=color:#f92672>=</span> dest; <span style=color:#75715e>// 记录目标字符串起始位置
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#66d9ef>while</span> (count <span style=color:#f92672>&amp;&amp;</span> (<span style=color:#f92672>*</span>dest<span style=color:#f92672>++</span> <span style=color:#f92672>=</span> <span style=color:#f92672>*</span>src<span style=color:#f92672>++</span>)) <span style=color:#75715e>// 拷贝字符串
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	{
</span></span><span style=display:flex><span>		count<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> (count) <span style=color:#75715e>// 当count大于src的长度时，将补充空字符
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	{
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>while</span> (<span style=color:#f92672>--</span>count)
</span></span><span style=display:flex><span>		{
</span></span><span style=display:flex><span>			<span style=color:#f92672>*</span>dest<span style=color:#f92672>++</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;\0&#39;</span>;
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> start;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li><li><p>strdup 复制整个字符串（自动分配空间），使用完后需要free内存</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>strdup</span>(<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>s);
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>dest <span style=color:#f92672>=</span> strdup(s);
</span></span><span style=display:flex><span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>strdup</span>(<span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>s)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span> t;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>s)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> NULL;
</span></span><span style=display:flex><span>    t <span style=color:#f92672>=</span> (<span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>)malloc(strlen(s) <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (t) {
</span></span><span style=display:flex><span>        strcpy(t, s);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> t;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li></ul><h1 id=删除>删除
<a class=header-anchor href=#%e5%88%a0%e9%99%a4></a></h1><p>删除子串（包括删除后重新连接的子串）可以使用栈：
<a href=https://leetcode.cn/problems/minimum-string-length-after-removing-substrings/submissions/494438513/ title="2696. 删除子串后的字符串最小长度 - 力扣（LeetCode）" rel="noopener external nofollow noreferrer" target=_blank class=exturl>2696. 删除子串后的字符串最小长度 - 力扣（LeetCode）
<i class="fa fa-external-link-alt"></i></a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#75715e># 从第6个位置（默认为0）开始，删除4个字符
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>str.erase(<span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 删除最后一个字符
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>pop_back</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 删除某个字符
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>iterator <span style=color:#a6e22e>erase</span> (iterator p);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 删除某个区间[first,last)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>iterator <span style=color:#a6e22e>erase</span> (iterator first, iterator last);
</span></span></code></pre></div><h1 id=实现>实现
<a class=header-anchor href=#%e5%ae%9e%e7%8e%b0></a></h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>String</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    String(<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>str <span style=color:#f92672>=</span> NULL);       <span style=color:#75715e>// 普通构造函数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    String(<span style=color:#66d9ef>const</span> String <span style=color:#f92672>&amp;</span>str);            <span style=color:#75715e>// 拷贝构造函数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    String <span style=color:#f92672>&amp;</span><span style=color:#66d9ef>operator</span><span style=color:#f92672>=</span>(<span style=color:#66d9ef>const</span> String <span style=color:#f92672>&amp;</span>str); <span style=color:#75715e>// 赋值函数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#f92672>~</span>String();                            <span style=color:#75715e>// 析构函数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>c_str</span>() <span style=color:#66d9ef>const</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>private</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>m_data; <span style=color:#75715e>// 用于保存字符串
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>String<span style=color:#f92672>::</span>c_str() <span style=color:#66d9ef>const</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> m_data;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// 普通构造函数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>String<span style=color:#f92672>::</span>String(<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>str)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (str <span style=color:#f92672>==</span> <span style=color:#66d9ef>nullptr</span>)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        m_data <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> (std<span style=color:#f92672>::</span>nothrow) <span style=color:#66d9ef>char</span>[<span style=color:#ae81ff>1</span>]; <span style=color:#75715e>// 对空字符串自动申请存放结束标志&#39;\0&#39;的空间
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (m_data <span style=color:#f92672>==</span> <span style=color:#66d9ef>nullptr</span>)
</span></span><span style=display:flex><span>        { <span style=color:#75715e>// 内存是否申请成功
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            std<span style=color:#f92672>::</span>cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;申请内存失败！&#34;</span> <span style=color:#f92672>&lt;&lt;</span> std<span style=color:#f92672>::</span>endl;
</span></span><span style=display:flex><span>            exit(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        m_data[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;\0&#39;</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> length <span style=color:#f92672>=</span> strlen(str);
</span></span><span style=display:flex><span>        m_data <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> (std<span style=color:#f92672>::</span>nothrow) <span style=color:#66d9ef>char</span>[length <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (m_data <span style=color:#f92672>==</span> <span style=color:#66d9ef>nullptr</span>)
</span></span><span style=display:flex><span>        { <span style=color:#75715e>// 内存是否申请成功
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            std<span style=color:#f92672>::</span>cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;申请内存失败！&#34;</span> <span style=color:#f92672>&lt;&lt;</span> std<span style=color:#f92672>::</span>endl;
</span></span><span style=display:flex><span>            exit(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        strcpy(m_data, str);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 拷贝构造函数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>String<span style=color:#f92672>::</span>String(<span style=color:#66d9ef>const</span> String <span style=color:#f92672>&amp;</span>other)
</span></span><span style=display:flex><span>{ <span style=color:#75715e>// 输入参数为const型
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>int</span> length <span style=color:#f92672>=</span> strlen(other.m_data);
</span></span><span style=display:flex><span>    m_data <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> (std<span style=color:#f92672>::</span>nothrow) <span style=color:#66d9ef>char</span>[length <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (m_data <span style=color:#f92672>==</span> <span style=color:#66d9ef>nullptr</span>)
</span></span><span style=display:flex><span>    { <span style=color:#75715e>// 内存是否申请成功
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        std<span style=color:#f92672>::</span>cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;申请内存失败！&#34;</span> <span style=color:#f92672>&lt;&lt;</span> std<span style=color:#f92672>::</span>endl;
</span></span><span style=display:flex><span>        exit(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    strcpy(m_data, other.m_data);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 赋值函数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>String <span style=color:#f92672>&amp;</span>String<span style=color:#f92672>::</span><span style=color:#66d9ef>operator</span><span style=color:#f92672>=</span>(<span style=color:#66d9ef>const</span> String <span style=color:#f92672>&amp;</span>other)
</span></span><span style=display:flex><span>{                       <span style=color:#75715e>// 输入参数为const型
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#66d9ef>this</span> <span style=color:#f92672>==</span> <span style=color:#f92672>&amp;</span>other) <span style=color:#75715e>// 检查自赋值
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#f92672>*</span><span style=color:#66d9ef>this</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>delete</span>[] m_data; <span style=color:#75715e>// 释放原来的内存资源
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> length <span style=color:#f92672>=</span> strlen(other.m_data);
</span></span><span style=display:flex><span>    m_data <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> (std<span style=color:#f92672>::</span>nothrow) <span style=color:#66d9ef>char</span>[length <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (m_data <span style=color:#f92672>==</span> <span style=color:#66d9ef>nullptr</span>)
</span></span><span style=display:flex><span>    { <span style=color:#75715e>// 内存是否申请成功
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        std<span style=color:#f92672>::</span>cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;申请内存失败！&#34;</span> <span style=color:#f92672>&lt;&lt;</span> std<span style=color:#f92672>::</span>endl;
</span></span><span style=display:flex><span>        exit(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    strcpy(m_data, other.m_data);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#f92672>*</span><span style=color:#66d9ef>this</span>; <span style=color:#75715e>// 返回本对象的引用
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 析构函数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>String<span style=color:#f92672>::~</span>String()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>delete</span>[] m_data;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    String a;
</span></span><span style=display:flex><span>    String b(<span style=color:#e6db74>&#34;abc&#34;</span>);
</span></span><span style=display:flex><span>    a <span style=color:#f92672>=</span> b;
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> a.c_str() <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    system(<span style=color:#e6db74>&#34;pause&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div><footer class=post-footer><div class=post-tags><a href=/tags/%e5%ad%97%e7%ac%a6%e4%b8%b2>字符串</a></div><div class=addthis_inline_share_toolbox style=text-align:center></div><hr><div class=reward-container><div><i class="fa-solid fa-mug-hot"></i>请我喝杯咖啡吧 ヾ(^▽^*)))</div><button>
赞赏</button><div class=post-reward><div class=post-reward-item><img src=/imgs/img-lazy-loading.gif data-src=/imgs/ali-pay.png alt="arukasxy - 支付宝">
<span>支付宝</span></div><div class=post-reward-item><img src=/imgs/img-lazy-loading.gif data-src=/imgs/wechat-pay.png alt="arukasxy - 微信">
<span>微信</span></div></div></div><div class=post-copyright><img src=/imgs/cc/cc.svg width=75 height=75 align=right alt=共享知识><ul><li class=post-copyright-title><strong>文章标题：</strong>
string字符串</li><li class=post-copyright-author><strong>本文作者： </strong>arukasxy</li><li class=post-copyright-link><strong>本文链接：</strong>
<a id=post-cr-link href=/post/string-string-1g9olm.html title=string字符串>/post/string-string-1g9olm.html</a></li><li class=post-copyright-license><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <i class="fab fa-fw fa-creative-commons"></i><a target=_blank href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><div class=followme><span>欢迎关注我的其它发布渠道</span><div class=social-list><div class=social-item><a target=_blank class=social-link href=/images/wechat_channel.jpg><span class=icon><i class="fab fa-weixin"></i>
</span><span class=label>WeChat</span></a></div><div class=social-item><a target=_blank class=social-link href=/atom.xml><span class=icon><i class="fa fa-rss"></i>
</span><span class=label>RSS</span></a></div></div></div><div class=post-nav><div class="post-nav-next post-nav-item"><a href=/post/function-1er6xb.html rel=next title=函数><i class="fa fa-chevron-left"></i> 函数</a></div><div class="post-nav-prev post-nav-item"><a href=/post/kind-z2cvctu.html rel=prev title=类>类
<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div id=comments class=post-comments><div class=comment-head><div class=comment-headline><i class="fas fa-comments fa-fw"></i>
<span>评论交流</span></div></div><div class=comment-wrap><div><div class=comment-loading><i class="fa fa-sync fa-spin"></i></div><div class=waline-container></div></div></div></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>&copy;
<span itemprop=copyrightYear>2010 - 2024
</span><span class=with-love><i class="fa fa-heart"></i>
</span><span class=author itemprop=copyrightHolder>arukasxy</span></div><div class=powered-by>由 <a href=https://gohugo.io title=0.131.0 target=_blank>Hugo</a> & <a href=https://github.com/hugo-next/hugo-theme-next title=4.6.3 target=_blank>Hugo NexT.Gemini</a> 强力驱动</div><div class=beian><a href=https://beian.miit.gov.cn target=_blank>粤ICP备 18047355-1 号</a>
<img src=/imgs/gongan.png alt=沪公网安备>
<a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31011402009770" target=_blank>沪公网安备 31011402009770 号</a></div><div class=vendors-list><a target=_blank href=https://github.com title=Github><img src=/imgs/img-lazy-loading.gif data-src=/imgs/vendors/github.svg alt=Github>
</a><span>提供CDN/云资源支持</span></div></div></footer><script type=text/javascript src=/3rd/animejs/3.2.2/anime.min.js crossorigin=anonymous defer></script><script type=text/javascript src=/3rd/viewerjs/1.11.6/viewer.min.js crossorigin=anonymous defer></script><script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#222","enable":true,"save":"manual"},"copybtn":true,"darkmode":true,"giscus":{"cfg":{"category":"Comments","categoryid":null,"emit":false,"inputposition":"top","mapping":"title","reactions":false,"repo":"username/repo-name","repoid":null,"theme":"preferred_color_scheme"},"js":"https://giscus.app/client.js"},"hostname":"/","i18n":{"ds_day":" 天前","ds_days":" 天 ","ds_hour":" 小时前","ds_hours":" 小时 ","ds_just":"刚刚","ds_min":" 分钟前","ds_mins":" 分钟","ds_month":" 个月前","ds_years":" 年 ","empty":"没有找到任何搜索结果：${query}","hits":"找到 ${hits} 个搜索结果","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","placeholder":"搜索..."},"lang":"zh-CN","lazyload":false,"localSearch":{"enable":true,"limit":1e3,"path":"/searchindexes.xml","preload":false,"topnperarticle":-1,"trigger":"auto","unescape":false},"motion":{"async":true,"enable":true,"transition":{"collheader":"fadeInLeft","postblock":"fadeIn","postbody":"fadeInDown","postheader":"fadeInDown","sidebar":"fadeInUp"}},"postmeta":{"comments":{"enable":false,"plugin":"waline"},"views":{"enable":true,"plugin":"busuanzi"}},"root":"/","scheme":"Gemini","sidebar":{"display":"post","offset":12,"padding":18,"position":"left","width":256},"vendor":{"plugins":"local","router":{"name":"local","type":"modern","url":"/3rd"}},"version":"4.6.3","waline":{"cfg":{"emoji":false,"imguploader":false,"placeholder":"请文明发言哟 ヾ(≧▽≦*)o \n\n可用快捷键选取表情符号：😀😄😁🥳👻👽👀🚄\n(Window系统：Win+.，Mac系统：Control+Command+Space)","reaction":true,"reactiontext":["点赞","踩一下","得意","不屑","尴尬","睡觉"],"reactiontitle":"你认为这篇文章怎么样？","requiredmeta":["nick","mail"],"serverurl":"https://walinejs.comment.lithub.cc","sofa":"快来发表你的意见吧 (≧∀≦)ゞ","wordlimit":200},"css":{"alias":"@waline/client","file":"dist/waline.css","name":"waline","version":"2.15.8"},"js":{"alias":"@waline/client","file":"dist/waline.js","name":"waline","version":"2.15.8"}}}</script><script type=text/javascript src=/js/main.min.befa9b7d22ec90da86c74c5dbff5ee42c12e9fc6d6f4448bfcc596cc329b19e8.js defer></script></body></html>